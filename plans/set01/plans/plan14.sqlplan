<?xml version="1.0" encoding="utf-8"?>
<ShowPlanXML xmlns="http://schemas.microsoft.com/sqlserver/2004/07/showplan" Version="1.2" Build="11.0.3412.0">
  <BatchSequence>
    <Batch>
      <Statements>
        <StmtSimple StatementText="CREATE PROCEDURE sp_sqlagent_has_server_access&#xD;&#xA;  @login_name         sysname = NULL,&#xD;&#xA;  @job_id             uniqueidentifier = NULL, -- if this is not null, @login_name will be ignored!&#xD;&#xA;  @is_sysadmin_member INT     = NULL OUTPUT&#xD;&#xA;AS&#xD;&#xA;BEGIN&#xD;&#xA;  DECLARE @has_server_access BIT&#xD;&#xA;  DECLARE @is_sysadmin       BIT&#xD;&#xA;  DECLARE @actual_login_name sysname&#xD;&#xA;  -- Set only when login_name is actually found. It will be zero when @actual_login_name is (unknown).&#xD;&#xA;  DECLARE @login_found BIT&#xD;&#xA;  DECLARE @cachedate         DATETIME&#xD;&#xA;&#xD;&#xA;  SET NOCOUNT ON&#xD;&#xA;&#xD;&#xA; " StatementId="1" StatementCompId="2" StatementType="SET ON/OFF" RetrievedFromCache="true" />
        <StmtSimple StatementText=" SELECT @cachedate = NULL&#xD;&#xA;&#xD;&#xA;  -- remove expired entries from the cache&#xD;&#xA; " StatementId="2" StatementCompId="3" StatementType="ASSIGN" RetrievedFromCache="true" />
        <StmtSimple StatementText=" DELETE msdb.dbo.syscachedcredentials&#xD;&#xA;  WHERE  DATEDIFF(MINUTE, cachedate, GETDATE()) &gt;= 29&#xD;&#xA;&#xD;&#xA;  -- query the cache&#xD;&#xA; " StatementId="3" StatementCompId="4" StatementType="DELETE" RetrievedFromCache="true" StatementSubTreeCost="0.0132843" StatementEstRows="1" StatementOptmLevel="TRIVIAL" QueryHash="0x15A2490B7BC53761" QueryPlanHash="0xBB0C50E2B01DDD5C">
          <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
          <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="1" CompileCPU="1" CompileMemory="440">
            <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
            <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
            <RelOp NodeId="0" PhysicalOp="Clustered Index Delete" LogicalOp="Delete" EstimateRows="1" EstimateIO="0.01" EstimateCPU="1e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0132843" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
              <OutputList />
              <Update DMLRequestSort="0">
                <Object Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Index="[PK__syscache__F6D56B5641F5B77F]" IndexKind="Clustered" />
                <RelOp NodeId="1" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="147" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="0" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                  <OutputList>
                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="login_name" />
                  </OutputList>
                  <IndexScan Ordered="1" ForcedIndex="0" ForceScan="0" NoExpandHint="0">
                    <DefinedValues>
                      <DefinedValue>
                        <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="login_name" />
                      </DefinedValue>
                    </DefinedValues>
                    <Object Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Index="[PK__syscache__F6D56B5641F5B77F]" IndexKind="Clustered" />
                    <Predicate>
                      <ScalarOperator ScalarString="datediff(minute,[msdb].[dbo].[syscachedcredentials].[cachedate],getdate())&gt;=(29)">
                        <Compare CompareOp="GE">
                          <ScalarOperator>
                            <Intrinsic FunctionName="datediff">
                              <ScalarOperator>
                                <Const ConstValue="(7)" />
                              </ScalarOperator>
                              <ScalarOperator>
                                <Identifier>
                                  <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="cachedate" />
                                </Identifier>
                              </ScalarOperator>
                              <ScalarOperator>
                                <Identifier>
                                  <ColumnReference Column="ConstExpr1006">
                                    <ScalarOperator>
                                      <Intrinsic FunctionName="getdate" />
                                    </ScalarOperator>
                                  </ColumnReference>
                                </Identifier>
                              </ScalarOperator>
                            </Intrinsic>
                          </ScalarOperator>
                          <ScalarOperator>
                            <Const ConstValue="(29)" />
                          </ScalarOperator>
                        </Compare>
                      </ScalarOperator>
                    </Predicate>
                  </IndexScan>
                </RelOp>
              </Update>
            </RelOp>
          </QueryPlan>
        </StmtSimple>
        <StmtSimple StatementText=" SELECT  @is_sysadmin = is_sysadmin_member,&#xD;&#xA;          @has_server_access = has_server_access,&#xD;&#xA;          @cachedate = cachedate&#xD;&#xA;  FROM    msdb.dbo.syscachedcredentials&#xD;&#xA;  WHERE   login_name = @login_name&#xD;&#xA;  AND     DATEDIFF(MINUTE, cachedate, GETDATE()) &lt; 29&#xD;&#xA;&#xD;&#xA; " StatementId="4" StatementCompId="5" StatementType="SELECT" RetrievedFromCache="true" StatementSubTreeCost="0.0032831" StatementEstRows="1" StatementOptmLevel="TRIVIAL" QueryHash="0x1316FD2B384700CE" QueryPlanHash="0x46A859B1494195C1">
          <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
          <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="0" CompileCPU="0" CompileMemory="432">
            <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
            <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
            <RelOp NodeId="0" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="16" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="0" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
              <OutputList>
                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="has_server_access" />
                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="is_sysadmin_member" />
                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="cachedate" />
              </OutputList>
              <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                <DefinedValues>
                  <DefinedValue>
                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="has_server_access" />
                  </DefinedValue>
                  <DefinedValue>
                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="is_sysadmin_member" />
                  </DefinedValue>
                  <DefinedValue>
                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="cachedate" />
                  </DefinedValue>
                </DefinedValues>
                <Object Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Index="[PK__syscache__F6D56B5641F5B77F]" IndexKind="Clustered" />
                <SeekPredicates>
                  <SeekPredicateNew>
                    <SeekKeys>
                      <Prefix ScanType="EQ">
                        <RangeColumns>
                          <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="login_name" />
                        </RangeColumns>
                        <RangeExpressions>
                          <ScalarOperator ScalarString="[@login_name]">
                            <Identifier>
                              <ColumnReference Column="@login_name" />
                            </Identifier>
                          </ScalarOperator>
                        </RangeExpressions>
                      </Prefix>
                    </SeekKeys>
                  </SeekPredicateNew>
                </SeekPredicates>
                <Predicate>
                  <ScalarOperator ScalarString="datediff(minute,[msdb].[dbo].[syscachedcredentials].[cachedate],getdate())&lt;(29)">
                    <Compare CompareOp="LT">
                      <ScalarOperator>
                        <Intrinsic FunctionName="datediff">
                          <ScalarOperator>
                            <Const ConstValue="(7)" />
                          </ScalarOperator>
                          <ScalarOperator>
                            <Identifier>
                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="cachedate" />
                            </Identifier>
                          </ScalarOperator>
                          <ScalarOperator>
                            <Identifier>
                              <ColumnReference Column="ConstExpr1003">
                                <ScalarOperator>
                                  <Intrinsic FunctionName="getdate" />
                                </ScalarOperator>
                              </ColumnReference>
                            </Identifier>
                          </ScalarOperator>
                        </Intrinsic>
                      </ScalarOperator>
                      <ScalarOperator>
                        <Const ConstValue="(29)" />
                      </ScalarOperator>
                    </Compare>
                  </ScalarOperator>
                </Predicate>
              </IndexScan>
            </RelOp>
            <ParameterList>
              <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
            </ParameterList>
          </QueryPlan>
        </StmtSimple>
        <StmtCond StatementText=" IF (@cachedate IS NOT NULL)&#xD;&#xA; " StatementId="5" StatementCompId="6" StatementType="COND" RetrievedFromCache="true">
          <Condition />
          <Then>
            <Statements>
              <StmtCond StatementText=" BEGIN&#xD;&#xA;    -- no output variable&#xD;&#xA;    IF (@is_sysadmin_member IS NULL)&#xD;&#xA;   " StatementId="6" StatementCompId="7" StatementType="COND" RetrievedFromCache="true">
                <Condition />
                <Then>
                  <Statements>
                    <StmtSimple StatementText=" BEGIN&#xD;&#xA;      -- Return result row&#xD;&#xA;      SELECT has_server_access = @has_server_access,&#xD;&#xA;             is_sysadmin       = @is_sysadmin,&#xD;&#xA;             actual_login_name = @login_name&#xD;&#xA;     " StatementId="7" StatementCompId="8" StatementType="SELECT WITHOUT QUERY" RetrievedFromCache="true" />
                    <StmtSimple StatementText=" RETURN&#xD;&#xA;   " StatementId="8" StatementCompId="9" StatementType="RETURN NONE" RetrievedFromCache="true" />
                  </Statements>
                </Then>
                <Else>
                  <Statements>
                    <StmtSimple StatementText=" END&#xD;&#xA;    ELSE&#xD;&#xA;    BEGIN&#xD;&#xA;      SELECT @is_sysadmin_member = @is_sysadmin&#xD;&#xA;     " StatementId="9" StatementCompId="12" StatementType="ASSIGN" RetrievedFromCache="true" />
                    <StmtSimple StatementText=" RETURN&#xD;&#xA;   " StatementId="10" StatementCompId="13" StatementType="RETURN NONE" RetrievedFromCache="true" />
                  </Statements>
                </Else>
              </StmtCond>
            </Statements>
          </Then>
        </StmtCond>
        <StmtSimple StatementText=" END&#xD;&#xA;  END -- select from cache&#xD;&#xA;&#xD;&#xA;  -- Set defaults&#xD;&#xA;  SELECT @has_server_access = 0&#xD;&#xA; " StatementId="11" StatementCompId="16" StatementType="ASSIGN" RetrievedFromCache="true" />
        <StmtSimple StatementText=" SELECT @is_sysadmin = 0&#xD;&#xA; " StatementId="12" StatementCompId="17" StatementType="ASSIGN" RetrievedFromCache="true" />
        <StmtSimple StatementText=" SELECT @actual_login_name = FORMATMESSAGE(14205)&#xD;&#xA; " StatementId="13" StatementCompId="18" StatementType="ASSIGN" RetrievedFromCache="true" />
        <StmtSimple StatementText=" SELECT @login_found = 0&#xD;&#xA;&#xD;&#xA;    -- If @job_id was set, get the current name associated with the job owner sid.&#xD;&#xA; " StatementId="14" StatementCompId="19" StatementType="ASSIGN" RetrievedFromCache="true" />
        <StmtCond StatementText=" if (@job_id IS NOT NULL) &#xD;&#xA; " StatementId="15" StatementCompId="20" StatementType="COND" RetrievedFromCache="true">
          <Condition />
          <Then>
            <Statements>
              <StmtSimple StatementText=" BEGIN&#xD;&#xA;&#x9;SELECT @login_name = dbo.SQLAGENT_SUSER_SNAME(owner_sid)&#xD;&#xA;&#x9;FROM msdb.dbo.sysjobs_view&#xD;&#xA;&#x9;WHERE @job_id = job_id&#xD;&#xA;&#xD;&#xA;    -- If the job_id is invalid, return error&#xD;&#xA;   " StatementId="16" StatementCompId="21" StatementType="SELECT" RetrievedFromCache="true" StatementSubTreeCost="0.00657877" StatementEstRows="1.33333" StatementOptmLevel="FULL" QueryHash="0x5BAA6855EB961222" QueryPlanHash="0x197E4F072A1BCD4A" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="48" CompileTime="28" CompileCPU="28" CompileMemory="1152">
                  <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                  <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                  <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1.33333" EstimateIO="0" EstimateCPU="1.33333e-007" AvgRowSize="139" EstimatedTotalSubtreeCost="0.00657877" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                    <OutputList>
                      <ColumnReference Column="Expr1016" />
                    </OutputList>
                    <ComputeScalar>
                      <DefinedValues>
                        <DefinedValue>
                          <ColumnReference Column="Expr1016" />
                          <ScalarOperator ScalarString="[msdb].[dbo].[SQLAGENT_SUSER_SNAME]([msdb].[dbo].[sysjobs].[owner_sid] as [jobs].[owner_sid])">
                            <UserDefinedFunction FunctionName="[msdb].[dbo].[SQLAGENT_SUSER_SNAME]">
                              <ScalarOperator>
                                <Identifier>
                                  <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="owner_sid" />
                                </Identifier>
                              </ScalarOperator>
                            </UserDefinedFunction>
                          </ScalarOperator>
                        </DefinedValue>
                      </DefinedValues>
                      <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1.33333" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="18" EstimatedTotalSubtreeCost="0.00657863" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                        <OutputList>
                          <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="owner_sid" />
                        </OutputList>
                        <NestedLoops Optimized="0">
                          <OuterReferences>
                            <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                          </OuterReferences>
                          <RelOp NodeId="2" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="22" EstimatedTotalSubtreeCost="0.00328932" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                            <OutputList>
                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="owner_sid" />
                            </OutputList>
                            <NestedLoops Optimized="0">
                              <OuterReferences>
                                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="job_id" />
                                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="owner_sid" />
                              </OuterReferences>
                              <RelOp NodeId="3" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="38" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="27" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList>
                                  <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="job_id" />
                                  <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                                  <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="owner_sid" />
                                </OutputList>
                                <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="job_id" />
                                    </DefinedValue>
                                    <DefinedValue>
                                      <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                                    </DefinedValue>
                                    <DefinedValue>
                                      <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="owner_sid" />
                                    </DefinedValue>
                                  </DefinedValues>
                                  <Object Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Index="[clust]" Alias="[jobs]" IndexKind="Clustered" />
                                  <SeekPredicates>
                                    <SeekPredicateNew>
                                      <SeekKeys>
                                        <Prefix ScanType="EQ">
                                          <RangeColumns>
                                            <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="job_id" />
                                          </RangeColumns>
                                          <RangeExpressions>
                                            <ScalarOperator ScalarString="[@job_id]">
                                              <Identifier>
                                                <ColumnReference Column="@job_id" />
                                              </Identifier>
                                            </ScalarOperator>
                                          </RangeExpressions>
                                        </Prefix>
                                      </SeekKeys>
                                    </SeekPredicateNew>
                                  </SeekPredicates>
                                </IndexScan>
                              </RelOp>
                              <RelOp NodeId="4" PhysicalOp="Concatenation" LogicalOp="Concatenation" EstimateRows="1" EstimateIO="0" EstimateCPU="2e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="2.037e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList />
                                <Concat>
                                  <DefinedValues />
                                  <RelOp NodeId="5" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="7.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="1.937e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <Filter StartupExpression="1">
                                      <RelOp NodeId="6" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList />
                                        <ConstantScan />
                                      </RelOp>
                                      <Predicate>
                                        <ScalarOperator ScalarString="[msdb].[dbo].[sysjobs].[owner_sid] as [jobs].[owner_sid]=suser_sid() OR isnull(is_srvrolemember(N'sysadmin'),(0))=(1) OR isnull(is_member(N'SQLAgentReaderRole'),(0))=(1)">
                                          <Logical Operation="OR">
                                            <ScalarOperator>
                                              <Compare CompareOp="EQ">
                                                <ScalarOperator>
                                                  <Identifier>
                                                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="owner_sid" />
                                                  </Identifier>
                                                </ScalarOperator>
                                                <ScalarOperator>
                                                  <Identifier>
                                                    <ColumnReference Column="ConstExpr1017">
                                                      <ScalarOperator>
                                                        <Intrinsic FunctionName="suser_sid">
                                                          <ScalarOperator>
                                                            <Const ConstValue="" />
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="" />
                                                          </ScalarOperator>
                                                        </Intrinsic>
                                                      </ScalarOperator>
                                                    </ColumnReference>
                                                  </Identifier>
                                                </ScalarOperator>
                                              </Compare>
                                            </ScalarOperator>
                                            <ScalarOperator>
                                              <Identifier>
                                                <ColumnReference Column="ConstExpr1018">
                                                  <ScalarOperator>
                                                    <Compare CompareOp="EQ">
                                                      <ScalarOperator>
                                                        <Intrinsic FunctionName="isnull">
                                                          <ScalarOperator>
                                                            <Intrinsic FunctionName="is_srvrolemember">
                                                              <ScalarOperator>
                                                                <Const ConstValue="N'sysadmin'" />
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="" />
                                                              </ScalarOperator>
                                                            </Intrinsic>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="(0)" />
                                                          </ScalarOperator>
                                                        </Intrinsic>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Const ConstValue="(1)" />
                                                      </ScalarOperator>
                                                    </Compare>
                                                  </ScalarOperator>
                                                </ColumnReference>
                                              </Identifier>
                                            </ScalarOperator>
                                            <ScalarOperator>
                                              <Identifier>
                                                <ColumnReference Column="ConstExpr1019">
                                                  <ScalarOperator>
                                                    <Compare CompareOp="EQ">
                                                      <ScalarOperator>
                                                        <Intrinsic FunctionName="isnull">
                                                          <ScalarOperator>
                                                            <Intrinsic FunctionName="is_member">
                                                              <ScalarOperator>
                                                                <Const ConstValue="N'SQLAgentReaderRole'" />
                                                              </ScalarOperator>
                                                            </Intrinsic>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="(0)" />
                                                          </ScalarOperator>
                                                        </Intrinsic>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Const ConstValue="(1)" />
                                                      </ScalarOperator>
                                                    </Compare>
                                                  </ScalarOperator>
                                                </ColumnReference>
                                              </Identifier>
                                            </ScalarOperator>
                                          </Logical>
                                        </ScalarOperator>
                                      </Predicate>
                                    </Filter>
                                  </RelOp>
                                  <RelOp NodeId="8" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="6.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00328378" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <Filter StartupExpression="1">
                                      <RelOp NodeId="9" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="23" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="134" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList />
                                        <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                          <DefinedValues />
                                          <Object Database="[msdb]" Schema="[dbo]" Table="[sysjobservers]" Index="[nc1]" Alias="[js]" IndexKind="NonClustered" />
                                          <SeekPredicates>
                                            <SeekPredicateNew>
                                              <SeekKeys>
                                                <EndRange ScanType="LT">
                                                  <RangeColumns>
                                                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobservers]" Alias="[js]" Column="server_id" />
                                                  </RangeColumns>
                                                  <RangeExpressions>
                                                    <ScalarOperator ScalarString="(0)">
                                                      <Const ConstValue="(0)" />
                                                    </ScalarOperator>
                                                  </RangeExpressions>
                                                </EndRange>
                                              </SeekKeys>
                                            </SeekPredicateNew>
                                            <SeekPredicateNew>
                                              <SeekKeys>
                                                <StartRange ScanType="GT">
                                                  <RangeColumns>
                                                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobservers]" Alias="[js]" Column="server_id" />
                                                  </RangeColumns>
                                                  <RangeExpressions>
                                                    <ScalarOperator ScalarString="(0)">
                                                      <Const ConstValue="(0)" />
                                                    </ScalarOperator>
                                                  </RangeExpressions>
                                                </StartRange>
                                              </SeekKeys>
                                            </SeekPredicateNew>
                                          </SeekPredicates>
                                          <Predicate>
                                            <ScalarOperator ScalarString="[msdb].[dbo].[sysjobservers].[job_id] as [js].[job_id]=[msdb].[dbo].[sysjobs].[job_id] as [jobs].[job_id]">
                                              <Compare CompareOp="EQ">
                                                <ScalarOperator>
                                                  <Identifier>
                                                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobservers]" Alias="[js]" Column="job_id" />
                                                  </Identifier>
                                                </ScalarOperator>
                                                <ScalarOperator>
                                                  <Identifier>
                                                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="job_id" />
                                                  </Identifier>
                                                </ScalarOperator>
                                              </Compare>
                                            </ScalarOperator>
                                          </Predicate>
                                        </IndexScan>
                                      </RelOp>
                                      <Predicate>
                                        <ScalarOperator ScalarString="isnull(is_member(N'TargetServersRole'),(0))=(1)">
                                          <Identifier>
                                            <ColumnReference Column="ConstExpr1020">
                                              <ScalarOperator>
                                                <Compare CompareOp="EQ">
                                                  <ScalarOperator>
                                                    <Intrinsic FunctionName="isnull">
                                                      <ScalarOperator>
                                                        <Intrinsic FunctionName="is_member">
                                                          <ScalarOperator>
                                                            <Const ConstValue="N'TargetServersRole'" />
                                                          </ScalarOperator>
                                                        </Intrinsic>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Const ConstValue="(0)" />
                                                      </ScalarOperator>
                                                    </Intrinsic>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="(1)" />
                                                  </ScalarOperator>
                                                </Compare>
                                              </ScalarOperator>
                                            </ColumnReference>
                                          </Identifier>
                                        </ScalarOperator>
                                      </Predicate>
                                    </Filter>
                                  </RelOp>
                                </Concat>
                              </RelOp>
                            </NestedLoops>
                          </RelOp>
                          <RelOp NodeId="12" PhysicalOp="Concatenation" LogicalOp="Concatenation" EstimateRows="1" EstimateIO="0" EstimateCPU="2e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00328504" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                            <OutputList />
                            <Concat>
                              <DefinedValues />
                              <RelOp NodeId="13" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="4.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="1.637e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList />
                                <Filter StartupExpression="1">
                                  <RelOp NodeId="14" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="4.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="1.637e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <Filter StartupExpression="0">
                                      <RelOp NodeId="15" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="11" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList>
                                          <ColumnReference Column="Expr1002" />
                                        </OutputList>
                                        <ConstantScan>
                                          <Values>
                                            <Row>
                                              <ScalarOperator ScalarString="(0)">
                                                <Const ConstValue="(0)" />
                                              </ScalarOperator>
                                            </Row>
                                          </Values>
                                        </ConstantScan>
                                      </RelOp>
                                      <Predicate>
                                        <ScalarOperator ScalarString="[Expr1002]=[msdb].[dbo].[sysjobs].[originating_server_id] as [jobs].[originating_server_id]">
                                          <Compare CompareOp="EQ">
                                            <ScalarOperator>
                                              <Identifier>
                                                <ColumnReference Column="Expr1002" />
                                              </Identifier>
                                            </ScalarOperator>
                                            <ScalarOperator>
                                              <Identifier>
                                                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                                              </Identifier>
                                            </ScalarOperator>
                                          </Compare>
                                        </ScalarOperator>
                                      </Predicate>
                                    </Filter>
                                  </RelOp>
                                  <Predicate>
                                    <ScalarOperator ScalarString="[msdb].[dbo].[sysjobs].[originating_server_id] as [jobs].[originating_server_id]=(0)">
                                      <Compare CompareOp="EQ">
                                        <ScalarOperator>
                                          <Identifier>
                                            <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                                          </Identifier>
                                        </ScalarOperator>
                                        <ScalarOperator>
                                          <Const ConstValue="(0)" />
                                        </ScalarOperator>
                                      </Compare>
                                    </ScalarOperator>
                                  </Predicate>
                                </Filter>
                              </RelOp>
                              <RelOp NodeId="19" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032832" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList />
                                <Filter StartupExpression="1">
                                  <RelOp NodeId="21" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="0" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                      <DefinedValues />
                                      <Object Database="[msdb]" Schema="[dbo]" Table="[sysoriginatingservers]" Index="[UQ__sysorigi__D65E569C8D13047D]" IndexKind="Clustered" />
                                      <SeekPredicates>
                                        <SeekPredicateNew>
                                          <SeekKeys>
                                            <Prefix ScanType="EQ">
                                              <RangeColumns>
                                                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysoriginatingservers]" Column="originating_server_id" />
                                              </RangeColumns>
                                              <RangeExpressions>
                                                <ScalarOperator ScalarString="[msdb].[dbo].[sysjobs].[originating_server_id] as [jobs].[originating_server_id]">
                                                  <Identifier>
                                                    <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                                                  </Identifier>
                                                </ScalarOperator>
                                              </RangeExpressions>
                                            </Prefix>
                                          </SeekKeys>
                                        </SeekPredicateNew>
                                      </SeekPredicates>
                                    </IndexScan>
                                  </RelOp>
                                  <Predicate>
                                    <ScalarOperator ScalarString="[msdb].[dbo].[sysjobs].[originating_server_id] as [jobs].[originating_server_id]=(1)">
                                      <Compare CompareOp="EQ">
                                        <ScalarOperator>
                                          <Identifier>
                                            <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[sysjobs]" Alias="[jobs]" Column="originating_server_id" />
                                          </Identifier>
                                        </ScalarOperator>
                                        <ScalarOperator>
                                          <Const ConstValue="(1)" />
                                        </ScalarOperator>
                                      </Compare>
                                    </ScalarOperator>
                                  </Predicate>
                                </Filter>
                              </RelOp>
                            </Concat>
                          </RelOp>
                        </NestedLoops>
                      </RelOp>
                    </ComputeScalar>
                  </RelOp>
                  <ParameterList>
                    <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                    <ColumnReference Column="@job_id" ParameterCompiledValue="{guid'B2056511-1150-42EF-8112-64187DB012B2'}" />
                  </ParameterList>
                </QueryPlan>
              </StmtSimple>
              <StmtCond StatementText=" IF (@login_name IS NULL)  &#xD;&#xA;   " StatementId="17" StatementCompId="22" StatementType="COND" RetrievedFromCache="true">
                <Condition />
                <Then>
                  <Statements>
                    <StmtSimple StatementText=" BEGIN  &#xD;&#xA;      RETURN 1;&#xD;&#xA;   " StatementId="18" StatementCompId="23" StatementType="RETURN" RetrievedFromCache="true" />
                  </Statements>
                </Then>
              </StmtCond>
            </Statements>
          </Then>
        </StmtCond>
        <StmtCond StatementText=" END  &#xD;&#xA;&#x9;&#xD;&#xA;  END&#xD;&#xA;  &#xD;&#xA; IF (@login_name IS NULL)&#xD;&#xA; " StatementId="19" StatementCompId="26" StatementType="COND" RetrievedFromCache="true">
          <Condition />
          <Then>
            <Statements>
              <StmtSimple StatementText=" BEGIN&#xD;&#xA;    SELECT has_server_access = 1,&#xD;&#xA;           is_sysadmin       = IS_SRVROLEMEMBER(N'sysadmin'),&#xD;&#xA;           actual_login_name = SUSER_SNAME()&#xD;&#xA;   " StatementId="20" StatementCompId="27" StatementType="SELECT WITHOUT QUERY" RetrievedFromCache="true" />
              <StmtSimple StatementText=" RETURN&#xD;&#xA; " StatementId="21" StatementCompId="28" StatementType="RETURN NONE" RetrievedFromCache="true" />
            </Statements>
          </Then>
        </StmtCond>
        <StmtCond StatementText=" END&#xD;&#xA;&#xD;&#xA;  IF (@login_name LIKE '%\%')&#xD;&#xA; " StatementId="22" StatementCompId="30" StatementType="COND" RetrievedFromCache="true">
          <Condition />
          <Then>
            <Statements>
              <StmtCond StatementText=" BEGIN&#xD;&#xA;    -- Handle the LocalSystem account ('NT AUTHORITY\SYSTEM') as a special case&#xD;&#xA;    IF (UPPER(@login_name collate SQL_Latin1_General_CP1_CS_AS) = N'NT AUTHORITY\SYSTEM')&#xD;&#xA;   " StatementId="23" StatementCompId="31" StatementType="COND" RetrievedFromCache="true">
                <Condition />
                <Then>
                  <Statements>
                    <StmtCond StatementText=" BEGIN&#xD;&#xA;      IF (EXISTS (SELECT *&#xD;&#xA;                  FROM master.dbo.syslogins&#xD;&#xA;                  WHERE (UPPER(loginname collate SQL_Latin1_General_CP1_CS_AS) = N'NT AUTHORITY\SYSTEM')))&#xD;&#xA;     " StatementId="24" StatementCompId="32" StatementType="COND WITH QUERY" RetrievedFromCache="true" StatementSubTreeCost="0.00349497" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0x1A6096321DE09A92" QueryPlanHash="0xBF9605FDADE04AF3" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                      <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                      <Condition>
                        <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="24" CompileTime="21" CompileCPU="21" CompileMemory="1744">
                          <Warnings>
                            <PlanAffectingConvert ConvertIssue="Cardinality Estimate" Expression="CONVERT(nvarchar(128),[p].[name],0)" />
                          </Warnings>
                          <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                          <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                          <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00349497" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                            <OutputList>
                              <ColumnReference Column="Expr1066" />
                            </OutputList>
                            <ComputeScalar>
                              <DefinedValues>
                                <DefinedValue>
                                  <ColumnReference Column="Expr1066" />
                                  <ScalarOperator ScalarString="CASE WHEN [Expr1067] THEN (1) ELSE (0) END">
                                    <IF>
                                      <Condition>
                                        <ScalarOperator>
                                          <Identifier>
                                            <ColumnReference Column="Expr1067" />
                                          </Identifier>
                                        </ScalarOperator>
                                      </Condition>
                                      <Then>
                                        <ScalarOperator>
                                          <Const ConstValue="(1)" />
                                        </ScalarOperator>
                                      </Then>
                                      <Else>
                                        <ScalarOperator>
                                          <Const ConstValue="(0)" />
                                        </ScalarOperator>
                                      </Else>
                                    </IF>
                                  </ScalarOperator>
                                </DefinedValue>
                              </DefinedValues>
                              <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00349487" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList>
                                  <ColumnReference Column="Expr1067" />
                                </OutputList>
                                <NestedLoops Optimized="0">
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1067" />
                                    </DefinedValue>
                                  </DefinedValues>
                                  <ProbeColumn>
                                    <ColumnReference Column="Expr1067" />
                                  </ProbeColumn>
                                  <RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <ConstantScan />
                                  </RelOp>
                                  <RelOp NodeId="3" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="0.00013348" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00348954" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <Filter StartupExpression="0">
                                      <RelOp NodeId="5" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimateIO="0.00386574" EstimateCPU="0.0002351" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00345792" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList>
                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                        </OutputList>
                                        <IndexScan Ordered="0" ForcedIndex="0" ForceScan="0" NoExpandHint="0">
                                          <DefinedValues>
                                            <DefinedValue>
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                            </DefinedValue>
                                          </DefinedValues>
                                          <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" IndexKind="Clustered" />
                                          <Predicate>
                                            <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'M' AND [master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'R' AND upper(CONVERT(nvarchar(128),[master].[sys].[sysxlgns].[name] as [p].[name],0))=N'NT AUTHORITY\SYSTEM'">
                                              <Logical Operation="AND">
                                                <ScalarOperator>
                                                  <Compare CompareOp="NE">
                                                    <ScalarOperator>
                                                      <Identifier>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                      </Identifier>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Const ConstValue="'M'" />
                                                    </ScalarOperator>
                                                  </Compare>
                                                </ScalarOperator>
                                                <ScalarOperator>
                                                  <Compare CompareOp="NE">
                                                    <ScalarOperator>
                                                      <Identifier>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                      </Identifier>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Const ConstValue="'R'" />
                                                    </ScalarOperator>
                                                  </Compare>
                                                </ScalarOperator>
                                                <ScalarOperator>
                                                  <Compare CompareOp="EQ">
                                                    <ScalarOperator>
                                                      <Intrinsic FunctionName="upper">
                                                        <ScalarOperator>
                                                          <Convert DataType="nvarchar" Length="256" Style="0" Implicit="0">
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                          </Convert>
                                                        </ScalarOperator>
                                                      </Intrinsic>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Const ConstValue="N'NT AUTHORITY\SYSTEM'" />
                                                    </ScalarOperator>
                                                  </Compare>
                                                </ScalarOperator>
                                              </Logical>
                                            </ScalarOperator>
                                          </Predicate>
                                        </IndexScan>
                                      </RelOp>
                                      <Predicate>
                                        <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                          <Compare CompareOp="EQ">
                                            <ScalarOperator>
                                              <Intrinsic FunctionName="has_access">
                                                <ScalarOperator>
                                                  <Const ConstValue="'LG'" />
                                                </ScalarOperator>
                                                <ScalarOperator>
                                                  <Identifier>
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                  </Identifier>
                                                </ScalarOperator>
                                                <ScalarOperator>
                                                  <Const ConstValue="" />
                                                </ScalarOperator>
                                                <ScalarOperator>
                                                  <Const ConstValue="" />
                                                </ScalarOperator>
                                              </Intrinsic>
                                            </ScalarOperator>
                                            <ScalarOperator>
                                              <Const ConstValue="(1)" />
                                            </ScalarOperator>
                                          </Compare>
                                        </ScalarOperator>
                                      </Predicate>
                                    </Filter>
                                  </RelOp>
                                </NestedLoops>
                              </RelOp>
                            </ComputeScalar>
                          </RelOp>
                        </QueryPlan>
                      </Condition>
                      <Then>
                        <Statements>
                          <StmtSimple StatementText=" BEGIN&#xD;&#xA;        SELECT @has_server_access = hasaccess,&#xD;&#xA;               @is_sysadmin = sysadmin,&#xD;&#xA;               @actual_login_name = loginname&#xD;&#xA;        FROM master.dbo.syslogins&#xD;&#xA;        WHERE (UPPER(loginname collate SQL_Latin1_General_CP1_CS_AS) = N'NT AUTHORITY\SYSTEM')&#xD;&#xA;&#xD;&#xA;       " StatementId="25" StatementCompId="33" StatementType="SELECT" RetrievedFromCache="true" StatementSubTreeCost="0.01194" StatementEstRows="4.44714" StatementOptmLevel="FULL" QueryHash="0xFC11DF1A25F6D8AA" QueryPlanHash="0xAF7E97BDA56B8A4C" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="40" CompileTime="31" CompileCPU="31" CompileMemory="2056">
                              <Warnings>
                                <PlanAffectingConvert ConvertIssue="Cardinality Estimate" Expression="CONVERT(nvarchar(128),[p].[name],0)" />
                              </Warnings>
                              <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                              <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                              <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="4.44714e-007" AvgRowSize="41" EstimatedTotalSubtreeCost="0.01194" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList>
                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                  <ColumnReference Column="Expr1065" />
                                  <ColumnReference Column="Expr1066" />
                                </OutputList>
                                <ComputeScalar>
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1066" />
                                      <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CONVERT(int,isnull([Expr1028],(0)),0),0)">
                                        <Convert DataType="bit" Style="0" Implicit="1">
                                          <ScalarOperator>
                                            <Convert DataType="int" Style="0" Implicit="0">
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="isnull">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="Expr1028" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="(0)" />
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Convert>
                                          </ScalarOperator>
                                        </Convert>
                                      </ScalarOperator>
                                    </DefinedValue>
                                  </DefinedValues>
                                  <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="1.85891e-005" AvgRowSize="45" EstimatedTotalSubtreeCost="0.0119396" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList>
                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                      <ColumnReference Column="Expr1028" />
                                      <ColumnReference Column="Expr1065" />
                                    </OutputList>
                                    <NestedLoops Optimized="0">
                                      <OuterReferences>
                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                      </OuterReferences>
                                      <RelOp NodeId="2" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="4.44714e-007" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00808855" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList>
                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                          <ColumnReference Column="Expr1065" />
                                        </OutputList>
                                        <ComputeScalar>
                                          <DefinedValues>
                                            <DefinedValue>
                                              <ColumnReference Column="Expr1065" />
                                              <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CONVERT(int,CASE WHEN [master].[sys].[sysprivs].[state] as [m].[state]='W' OR [master].[sys].[sysprivs].[state] as [m].[state]='G' THEN (1) ELSE (0) END,0),0)">
                                                <Convert DataType="bit" Style="0" Implicit="1">
                                                  <ScalarOperator>
                                                    <Convert DataType="int" Style="0" Implicit="0">
                                                      <ScalarOperator>
                                                        <IF>
                                                          <Condition>
                                                            <ScalarOperator>
                                                              <Logical Operation="OR">
                                                                <ScalarOperator>
                                                                  <Compare CompareOp="EQ">
                                                                    <ScalarOperator>
                                                                      <Identifier>
                                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                                      </Identifier>
                                                                    </ScalarOperator>
                                                                    <ScalarOperator>
                                                                      <Const ConstValue="'W'" />
                                                                    </ScalarOperator>
                                                                  </Compare>
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Compare CompareOp="EQ">
                                                                    <ScalarOperator>
                                                                      <Identifier>
                                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                                      </Identifier>
                                                                    </ScalarOperator>
                                                                    <ScalarOperator>
                                                                      <Const ConstValue="'G'" />
                                                                    </ScalarOperator>
                                                                  </Compare>
                                                                </ScalarOperator>
                                                              </Logical>
                                                            </ScalarOperator>
                                                          </Condition>
                                                          <Then>
                                                            <ScalarOperator>
                                                              <Const ConstValue="(1)" />
                                                            </ScalarOperator>
                                                          </Then>
                                                          <Else>
                                                            <ScalarOperator>
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                          </Else>
                                                        </IF>
                                                      </ScalarOperator>
                                                    </Convert>
                                                  </ScalarOperator>
                                                </Convert>
                                              </ScalarOperator>
                                            </DefinedValue>
                                          </DefinedValues>
                                          <RelOp NodeId="3" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="1.85891e-005" AvgRowSize="45" EstimatedTotalSubtreeCost="0.0080881" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                            <OutputList>
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                            </OutputList>
                                            <NestedLoops Optimized="0">
                                              <OuterReferences>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                              </OuterReferences>
                                              <RelOp NodeId="4" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="0.00013348" AvgRowSize="44" EstimatedTotalSubtreeCost="0.00424142" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                <OutputList>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                </OutputList>
                                                <Filter StartupExpression="0">
                                                  <RelOp NodeId="6" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="4.44714" EstimateIO="0.00386574" EstimateCPU="0.0002351" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00410084" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                    <OutputList>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                    </OutputList>
                                                    <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                      <DefinedValues>
                                                        <DefinedValue>
                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                        </DefinedValue>
                                                        <DefinedValue>
                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                        </DefinedValue>
                                                      </DefinedValues>
                                                      <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" IndexKind="Clustered" />
                                                      <Predicate>
                                                        <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'M' AND [master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'R' AND upper(CONVERT(nvarchar(128),[master].[sys].[sysxlgns].[name] as [p].[name],0))=N'NT AUTHORITY\SYSTEM'">
                                                          <Logical Operation="AND">
                                                            <ScalarOperator>
                                                              <Compare CompareOp="NE">
                                                                <ScalarOperator>
                                                                  <Identifier>
                                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                  </Identifier>
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Const ConstValue="'M'" />
                                                                </ScalarOperator>
                                                              </Compare>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Compare CompareOp="NE">
                                                                <ScalarOperator>
                                                                  <Identifier>
                                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                  </Identifier>
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Const ConstValue="'R'" />
                                                                </ScalarOperator>
                                                              </Compare>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Compare CompareOp="EQ">
                                                                <ScalarOperator>
                                                                  <Intrinsic FunctionName="upper">
                                                                    <ScalarOperator>
                                                                      <Convert DataType="nvarchar" Length="256" Style="0" Implicit="0">
                                                                        <ScalarOperator>
                                                                          <Identifier>
                                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                                          </Identifier>
                                                                        </ScalarOperator>
                                                                      </Convert>
                                                                    </ScalarOperator>
                                                                  </Intrinsic>
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Const ConstValue="N'NT AUTHORITY\SYSTEM'" />
                                                                </ScalarOperator>
                                                              </Compare>
                                                            </ScalarOperator>
                                                          </Logical>
                                                        </ScalarOperator>
                                                      </Predicate>
                                                    </IndexScan>
                                                  </RelOp>
                                                  <Predicate>
                                                    <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                                      <Compare CompareOp="EQ">
                                                        <ScalarOperator>
                                                          <Intrinsic FunctionName="has_access">
                                                            <ScalarOperator>
                                                              <Const ConstValue="'LG'" />
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="" />
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="" />
                                                            </ScalarOperator>
                                                          </Intrinsic>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Const ConstValue="(1)" />
                                                        </ScalarOperator>
                                                      </Compare>
                                                    </ScalarOperator>
                                                  </Predicate>
                                                </Filter>
                                              </RelOp>
                                              <RelOp NodeId="9" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00382809" TableCardinality="2181" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                <OutputList>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                </OutputList>
                                                <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                  <DefinedValues>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                    </DefinedValue>
                                                  </DefinedValues>
                                                  <Object Database="[master]" Schema="[sys]" Table="[sysprivs]" Index="[clust]" Alias="[m]" IndexKind="Clustered" />
                                                  <SeekPredicates>
                                                    <SeekPredicateNew>
                                                      <SeekKeys>
                                                        <Prefix ScanType="EQ">
                                                          <RangeColumns>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="class" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="id" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="subid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantee" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantor" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="type" />
                                                          </RangeColumns>
                                                          <RangeExpressions>
                                                            <ScalarOperator ScalarString="(100)">
                                                              <Const ConstValue="(100)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(1)">
                                                              <Const ConstValue="(1)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="'COSQ'">
                                                              <Const ConstValue="'COSQ'" />
                                                            </ScalarOperator>
                                                          </RangeExpressions>
                                                        </Prefix>
                                                      </SeekKeys>
                                                    </SeekPredicateNew>
                                                  </SeekPredicates>
                                                </IndexScan>
                                              </RelOp>
                                            </NestedLoops>
                                          </RelOp>
                                        </ComputeScalar>
                                      </RelOp>
                                      <RelOp NodeId="13" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00383245" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList>
                                          <ColumnReference Column="Expr1028" />
                                        </OutputList>
                                        <ComputeScalar>
                                          <DefinedValues>
                                            <DefinedValue>
                                              <ColumnReference Column="Expr1028" />
                                              <ScalarOperator ScalarString="(1)">
                                                <Const ConstValue="(1)" />
                                              </ScalarOperator>
                                            </DefinedValue>
                                          </DefinedValues>
                                          <RelOp NodeId="14" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00383201" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                            <OutputList />
                                            <Filter StartupExpression="0">
                                              <RelOp NodeId="15" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="15" EstimatedTotalSubtreeCost="0.00382809" TableCardinality="117" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                <OutputList>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                </OutputList>
                                                <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                  <DefinedValues>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                    </DefinedValue>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                    </DefinedValue>
                                                  </DefinedValues>
                                                  <Object Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Index="[clst]" TableReferenceId="1" IndexKind="Clustered" />
                                                  <SeekPredicates>
                                                    <SeekPredicateNew>
                                                      <SeekKeys>
                                                        <Prefix ScanType="EQ">
                                                          <RangeColumns>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="class" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depsubid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepsubid" />
                                                          </RangeColumns>
                                                          <RangeExpressions>
                                                            <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(26)">
                                                              <Const ConstValue="(26)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(3)">
                                                              <Const ConstValue="(3)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                          </RangeExpressions>
                                                        </Prefix>
                                                      </SeekKeys>
                                                    </SeekPredicateNew>
                                                  </SeekPredicates>
                                                </IndexScan>
                                              </RelOp>
                                              <Predicate>
                                                <ScalarOperator ScalarString="has_access('SM',[master].[sys].[sysmultiobjrefs].[depid],[master].[sys].[sysmultiobjrefs].[indepid])=(1)">
                                                  <Compare CompareOp="EQ">
                                                    <ScalarOperator>
                                                      <Intrinsic FunctionName="has_access">
                                                        <ScalarOperator>
                                                          <Const ConstValue="'SM'" />
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Identifier>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                          </Identifier>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Identifier>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                          </Identifier>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Const ConstValue="" />
                                                        </ScalarOperator>
                                                      </Intrinsic>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Const ConstValue="(1)" />
                                                    </ScalarOperator>
                                                  </Compare>
                                                </ScalarOperator>
                                              </Predicate>
                                            </Filter>
                                          </RelOp>
                                        </ComputeScalar>
                                      </RelOp>
                                    </NestedLoops>
                                  </RelOp>
                                </ComputeScalar>
                              </RelOp>
                            </QueryPlan>
                          </StmtSimple>
                          <StmtSimple StatementText=" SET @login_found = 1&#xD;&#xA;     " StatementId="26" StatementCompId="34" StatementType="ASSIGN" RetrievedFromCache="true" />
                        </Statements>
                      </Then>
                      <Else>
                        <Statements>
                          <StmtCond StatementText=" END&#xD;&#xA;      ELSE&#xD;&#xA;      IF (EXISTS (SELECT *&#xD;&#xA;                  FROM master.dbo.syslogins&#xD;&#xA;                  WHERE (UPPER(loginname collate SQL_Latin1_General_CP1_CS_AS) = N'BUILTIN\ADMINISTRATORS')))&#xD;&#xA;     " StatementId="27" StatementCompId="37" StatementType="COND WITH QUERY" RetrievedFromCache="true" StatementSubTreeCost="0.00349497" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0x1A6096321DE09A92" QueryPlanHash="0xBF9605FDADE04AF3" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <Condition>
                              <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="24" CompileTime="17" CompileCPU="17" CompileMemory="1744">
                                <Warnings>
                                  <PlanAffectingConvert ConvertIssue="Cardinality Estimate" Expression="CONVERT(nvarchar(128),[p].[name],0)" />
                                </Warnings>
                                <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                                <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                                <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00349497" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                  <OutputList>
                                    <ColumnReference Column="Expr1066" />
                                  </OutputList>
                                  <ComputeScalar>
                                    <DefinedValues>
                                      <DefinedValue>
                                        <ColumnReference Column="Expr1066" />
                                        <ScalarOperator ScalarString="CASE WHEN [Expr1067] THEN (1) ELSE (0) END">
                                          <IF>
                                            <Condition>
                                              <ScalarOperator>
                                                <Identifier>
                                                  <ColumnReference Column="Expr1067" />
                                                </Identifier>
                                              </ScalarOperator>
                                            </Condition>
                                            <Then>
                                              <ScalarOperator>
                                                <Const ConstValue="(1)" />
                                              </ScalarOperator>
                                            </Then>
                                            <Else>
                                              <ScalarOperator>
                                                <Const ConstValue="(0)" />
                                              </ScalarOperator>
                                            </Else>
                                          </IF>
                                        </ScalarOperator>
                                      </DefinedValue>
                                    </DefinedValues>
                                    <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00349487" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                      <OutputList>
                                        <ColumnReference Column="Expr1067" />
                                      </OutputList>
                                      <NestedLoops Optimized="0">
                                        <DefinedValues>
                                          <DefinedValue>
                                            <ColumnReference Column="Expr1067" />
                                          </DefinedValue>
                                        </DefinedValues>
                                        <ProbeColumn>
                                          <ColumnReference Column="Expr1067" />
                                        </ProbeColumn>
                                        <RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList />
                                          <ConstantScan />
                                        </RelOp>
                                        <RelOp NodeId="3" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="0.00013348" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00348954" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList />
                                          <Filter StartupExpression="0">
                                            <RelOp NodeId="5" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimateIO="0.00386574" EstimateCPU="0.0002351" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00345792" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                              <OutputList>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                              </OutputList>
                                              <IndexScan Ordered="0" ForcedIndex="0" ForceScan="0" NoExpandHint="0">
                                                <DefinedValues>
                                                  <DefinedValue>
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                  </DefinedValue>
                                                </DefinedValues>
                                                <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" IndexKind="Clustered" />
                                                <Predicate>
                                                  <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'M' AND [master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'R' AND upper(CONVERT(nvarchar(128),[master].[sys].[sysxlgns].[name] as [p].[name],0))=N'BUILTIN\ADMINISTRATORS'">
                                                    <Logical Operation="AND">
                                                      <ScalarOperator>
                                                        <Compare CompareOp="NE">
                                                          <ScalarOperator>
                                                            <Identifier>
                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                            </Identifier>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="'M'" />
                                                          </ScalarOperator>
                                                        </Compare>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Compare CompareOp="NE">
                                                          <ScalarOperator>
                                                            <Identifier>
                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                            </Identifier>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="'R'" />
                                                          </ScalarOperator>
                                                        </Compare>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Compare CompareOp="EQ">
                                                          <ScalarOperator>
                                                            <Intrinsic FunctionName="upper">
                                                              <ScalarOperator>
                                                                <Convert DataType="nvarchar" Length="256" Style="0" Implicit="0">
                                                                  <ScalarOperator>
                                                                    <Identifier>
                                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                                    </Identifier>
                                                                  </ScalarOperator>
                                                                </Convert>
                                                              </ScalarOperator>
                                                            </Intrinsic>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="N'BUILTIN\ADMINISTRATORS'" />
                                                          </ScalarOperator>
                                                        </Compare>
                                                      </ScalarOperator>
                                                    </Logical>
                                                  </ScalarOperator>
                                                </Predicate>
                                              </IndexScan>
                                            </RelOp>
                                            <Predicate>
                                              <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                                <Compare CompareOp="EQ">
                                                  <ScalarOperator>
                                                    <Intrinsic FunctionName="has_access">
                                                      <ScalarOperator>
                                                        <Const ConstValue="'LG'" />
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Identifier>
                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                        </Identifier>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Const ConstValue="" />
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Const ConstValue="" />
                                                      </ScalarOperator>
                                                    </Intrinsic>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="(1)" />
                                                  </ScalarOperator>
                                                </Compare>
                                              </ScalarOperator>
                                            </Predicate>
                                          </Filter>
                                        </RelOp>
                                      </NestedLoops>
                                    </RelOp>
                                  </ComputeScalar>
                                </RelOp>
                              </QueryPlan>
                            </Condition>
                            <Then>
                              <Statements>
                                <StmtSimple StatementText=" BEGIN&#xD;&#xA;        SELECT @has_server_access = hasaccess,&#xD;&#xA;               @is_sysadmin = sysadmin,&#xD;&#xA;               @actual_login_name = loginname&#xD;&#xA;        FROM master.dbo.syslogins&#xD;&#xA;        WHERE (UPPER(loginname collate SQL_Latin1_General_CP1_CS_AS) = N'BUILTIN\ADMINISTRATORS')&#xD;&#xA;&#xD;&#xA;       " StatementId="28" StatementCompId="38" StatementType="SELECT" RetrievedFromCache="true" StatementSubTreeCost="0.01194" StatementEstRows="4.44714" StatementOptmLevel="FULL" QueryHash="0xFC11DF1A25F6D8AA" QueryPlanHash="0xAF7E97BDA56B8A4C" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                                  <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                                  <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="40" CompileTime="32" CompileCPU="28" CompileMemory="2056">
                                    <Warnings>
                                      <PlanAffectingConvert ConvertIssue="Cardinality Estimate" Expression="CONVERT(nvarchar(128),[p].[name],0)" />
                                    </Warnings>
                                    <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                                    <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                                    <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="4.44714e-007" AvgRowSize="41" EstimatedTotalSubtreeCost="0.01194" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                      <OutputList>
                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                        <ColumnReference Column="Expr1065" />
                                        <ColumnReference Column="Expr1066" />
                                      </OutputList>
                                      <ComputeScalar>
                                        <DefinedValues>
                                          <DefinedValue>
                                            <ColumnReference Column="Expr1066" />
                                            <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CONVERT(int,isnull([Expr1028],(0)),0),0)">
                                              <Convert DataType="bit" Style="0" Implicit="1">
                                                <ScalarOperator>
                                                  <Convert DataType="int" Style="0" Implicit="0">
                                                    <ScalarOperator>
                                                      <Intrinsic FunctionName="isnull">
                                                        <ScalarOperator>
                                                          <Identifier>
                                                            <ColumnReference Column="Expr1028" />
                                                          </Identifier>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Const ConstValue="(0)" />
                                                        </ScalarOperator>
                                                      </Intrinsic>
                                                    </ScalarOperator>
                                                  </Convert>
                                                </ScalarOperator>
                                              </Convert>
                                            </ScalarOperator>
                                          </DefinedValue>
                                        </DefinedValues>
                                        <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="1.85891e-005" AvgRowSize="45" EstimatedTotalSubtreeCost="0.0119396" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList>
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                            <ColumnReference Column="Expr1028" />
                                            <ColumnReference Column="Expr1065" />
                                          </OutputList>
                                          <NestedLoops Optimized="0">
                                            <OuterReferences>
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                            </OuterReferences>
                                            <RelOp NodeId="2" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="4.44714e-007" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00808855" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                              <OutputList>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                <ColumnReference Column="Expr1065" />
                                              </OutputList>
                                              <ComputeScalar>
                                                <DefinedValues>
                                                  <DefinedValue>
                                                    <ColumnReference Column="Expr1065" />
                                                    <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CONVERT(int,CASE WHEN [master].[sys].[sysprivs].[state] as [m].[state]='W' OR [master].[sys].[sysprivs].[state] as [m].[state]='G' THEN (1) ELSE (0) END,0),0)">
                                                      <Convert DataType="bit" Style="0" Implicit="1">
                                                        <ScalarOperator>
                                                          <Convert DataType="int" Style="0" Implicit="0">
                                                            <ScalarOperator>
                                                              <IF>
                                                                <Condition>
                                                                  <ScalarOperator>
                                                                    <Logical Operation="OR">
                                                                      <ScalarOperator>
                                                                        <Compare CompareOp="EQ">
                                                                          <ScalarOperator>
                                                                            <Identifier>
                                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                                            </Identifier>
                                                                          </ScalarOperator>
                                                                          <ScalarOperator>
                                                                            <Const ConstValue="'W'" />
                                                                          </ScalarOperator>
                                                                        </Compare>
                                                                      </ScalarOperator>
                                                                      <ScalarOperator>
                                                                        <Compare CompareOp="EQ">
                                                                          <ScalarOperator>
                                                                            <Identifier>
                                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                                            </Identifier>
                                                                          </ScalarOperator>
                                                                          <ScalarOperator>
                                                                            <Const ConstValue="'G'" />
                                                                          </ScalarOperator>
                                                                        </Compare>
                                                                      </ScalarOperator>
                                                                    </Logical>
                                                                  </ScalarOperator>
                                                                </Condition>
                                                                <Then>
                                                                  <ScalarOperator>
                                                                    <Const ConstValue="(1)" />
                                                                  </ScalarOperator>
                                                                </Then>
                                                                <Else>
                                                                  <ScalarOperator>
                                                                    <Const ConstValue="(0)" />
                                                                  </ScalarOperator>
                                                                </Else>
                                                              </IF>
                                                            </ScalarOperator>
                                                          </Convert>
                                                        </ScalarOperator>
                                                      </Convert>
                                                    </ScalarOperator>
                                                  </DefinedValue>
                                                </DefinedValues>
                                                <RelOp NodeId="3" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="1.85891e-005" AvgRowSize="45" EstimatedTotalSubtreeCost="0.0080881" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                  <OutputList>
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                  </OutputList>
                                                  <NestedLoops Optimized="0">
                                                    <OuterReferences>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                    </OuterReferences>
                                                    <RelOp NodeId="4" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="4.44714" EstimateIO="0" EstimateCPU="0.00013348" AvgRowSize="44" EstimatedTotalSubtreeCost="0.00424142" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                      <OutputList>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                      </OutputList>
                                                      <Filter StartupExpression="0">
                                                        <RelOp NodeId="6" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="4.44714" EstimateIO="0.00386574" EstimateCPU="0.0002351" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00410084" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                          <OutputList>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                          </OutputList>
                                                          <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                            <DefinedValues>
                                                              <DefinedValue>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                              </DefinedValue>
                                                              <DefinedValue>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                              </DefinedValue>
                                                            </DefinedValues>
                                                            <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" IndexKind="Clustered" />
                                                            <Predicate>
                                                              <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'M' AND [master].[sys].[sysxlgns].[type] as [p].[type]&lt;&gt;'R' AND upper(CONVERT(nvarchar(128),[master].[sys].[sysxlgns].[name] as [p].[name],0))=N'BUILTIN\ADMINISTRATORS'">
                                                                <Logical Operation="AND">
                                                                  <ScalarOperator>
                                                                    <Compare CompareOp="NE">
                                                                      <ScalarOperator>
                                                                        <Identifier>
                                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                        </Identifier>
                                                                      </ScalarOperator>
                                                                      <ScalarOperator>
                                                                        <Const ConstValue="'M'" />
                                                                      </ScalarOperator>
                                                                    </Compare>
                                                                  </ScalarOperator>
                                                                  <ScalarOperator>
                                                                    <Compare CompareOp="NE">
                                                                      <ScalarOperator>
                                                                        <Identifier>
                                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                        </Identifier>
                                                                      </ScalarOperator>
                                                                      <ScalarOperator>
                                                                        <Const ConstValue="'R'" />
                                                                      </ScalarOperator>
                                                                    </Compare>
                                                                  </ScalarOperator>
                                                                  <ScalarOperator>
                                                                    <Compare CompareOp="EQ">
                                                                      <ScalarOperator>
                                                                        <Intrinsic FunctionName="upper">
                                                                          <ScalarOperator>
                                                                            <Convert DataType="nvarchar" Length="256" Style="0" Implicit="0">
                                                                              <ScalarOperator>
                                                                                <Identifier>
                                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                                                </Identifier>
                                                                              </ScalarOperator>
                                                                            </Convert>
                                                                          </ScalarOperator>
                                                                        </Intrinsic>
                                                                      </ScalarOperator>
                                                                      <ScalarOperator>
                                                                        <Const ConstValue="N'BUILTIN\ADMINISTRATORS'" />
                                                                      </ScalarOperator>
                                                                    </Compare>
                                                                  </ScalarOperator>
                                                                </Logical>
                                                              </ScalarOperator>
                                                            </Predicate>
                                                          </IndexScan>
                                                        </RelOp>
                                                        <Predicate>
                                                          <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                                            <Compare CompareOp="EQ">
                                                              <ScalarOperator>
                                                                <Intrinsic FunctionName="has_access">
                                                                  <ScalarOperator>
                                                                    <Const ConstValue="'LG'" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator>
                                                                    <Identifier>
                                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                                    </Identifier>
                                                                  </ScalarOperator>
                                                                  <ScalarOperator>
                                                                    <Const ConstValue="" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator>
                                                                    <Const ConstValue="" />
                                                                  </ScalarOperator>
                                                                </Intrinsic>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="(1)" />
                                                              </ScalarOperator>
                                                            </Compare>
                                                          </ScalarOperator>
                                                        </Predicate>
                                                      </Filter>
                                                    </RelOp>
                                                    <RelOp NodeId="9" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00382809" TableCardinality="2181" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                      <OutputList>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                      </OutputList>
                                                      <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                        <DefinedValues>
                                                          <DefinedValue>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                          </DefinedValue>
                                                        </DefinedValues>
                                                        <Object Database="[master]" Schema="[sys]" Table="[sysprivs]" Index="[clust]" Alias="[m]" IndexKind="Clustered" />
                                                        <SeekPredicates>
                                                          <SeekPredicateNew>
                                                            <SeekKeys>
                                                              <Prefix ScanType="EQ">
                                                                <RangeColumns>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="class" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="id" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="subid" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantee" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantor" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="type" />
                                                                </RangeColumns>
                                                                <RangeExpressions>
                                                                  <ScalarOperator ScalarString="(100)">
                                                                    <Const ConstValue="(100)" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="(0)">
                                                                    <Const ConstValue="(0)" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="(0)">
                                                                    <Const ConstValue="(0)" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                                    <Identifier>
                                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                                    </Identifier>
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="(1)">
                                                                    <Const ConstValue="(1)" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="'COSQ'">
                                                                    <Const ConstValue="'COSQ'" />
                                                                  </ScalarOperator>
                                                                </RangeExpressions>
                                                              </Prefix>
                                                            </SeekKeys>
                                                          </SeekPredicateNew>
                                                        </SeekPredicates>
                                                      </IndexScan>
                                                    </RelOp>
                                                  </NestedLoops>
                                                </RelOp>
                                              </ComputeScalar>
                                            </RelOp>
                                            <RelOp NodeId="13" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00383245" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                              <OutputList>
                                                <ColumnReference Column="Expr1028" />
                                              </OutputList>
                                              <ComputeScalar>
                                                <DefinedValues>
                                                  <DefinedValue>
                                                    <ColumnReference Column="Expr1028" />
                                                    <ScalarOperator ScalarString="(1)">
                                                      <Const ConstValue="(1)" />
                                                    </ScalarOperator>
                                                  </DefinedValue>
                                                </DefinedValues>
                                                <RelOp NodeId="14" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00383201" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                  <OutputList />
                                                  <Filter StartupExpression="0">
                                                    <RelOp NodeId="15" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="15" EstimatedTotalSubtreeCost="0.00382809" TableCardinality="117" Parallel="0" EstimateRebinds="3.44714" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                      <OutputList>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                      </OutputList>
                                                      <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                        <DefinedValues>
                                                          <DefinedValue>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                          </DefinedValue>
                                                          <DefinedValue>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                          </DefinedValue>
                                                        </DefinedValues>
                                                        <Object Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Index="[clst]" TableReferenceId="1" IndexKind="Clustered" />
                                                        <SeekPredicates>
                                                          <SeekPredicateNew>
                                                            <SeekKeys>
                                                              <Prefix ScanType="EQ">
                                                                <RangeColumns>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="class" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depsubid" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepsubid" />
                                                                </RangeColumns>
                                                                <RangeExpressions>
                                                                  <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                                    <Identifier>
                                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                                    </Identifier>
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="(26)">
                                                                    <Const ConstValue="(26)" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="(0)">
                                                                    <Const ConstValue="(0)" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="(3)">
                                                                    <Const ConstValue="(3)" />
                                                                  </ScalarOperator>
                                                                  <ScalarOperator ScalarString="(0)">
                                                                    <Const ConstValue="(0)" />
                                                                  </ScalarOperator>
                                                                </RangeExpressions>
                                                              </Prefix>
                                                            </SeekKeys>
                                                          </SeekPredicateNew>
                                                        </SeekPredicates>
                                                      </IndexScan>
                                                    </RelOp>
                                                    <Predicate>
                                                      <ScalarOperator ScalarString="has_access('SM',[master].[sys].[sysmultiobjrefs].[depid],[master].[sys].[sysmultiobjrefs].[indepid])=(1)">
                                                        <Compare CompareOp="EQ">
                                                          <ScalarOperator>
                                                            <Intrinsic FunctionName="has_access">
                                                              <ScalarOperator>
                                                                <Const ConstValue="'SM'" />
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="" />
                                                              </ScalarOperator>
                                                            </Intrinsic>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="(1)" />
                                                          </ScalarOperator>
                                                        </Compare>
                                                      </ScalarOperator>
                                                    </Predicate>
                                                  </Filter>
                                                </RelOp>
                                              </ComputeScalar>
                                            </RelOp>
                                          </NestedLoops>
                                        </RelOp>
                                      </ComputeScalar>
                                    </RelOp>
                                  </QueryPlan>
                                </StmtSimple>
                                <StmtSimple StatementText=" SET @login_found = 1&#xD;&#xA;     " StatementId="29" StatementCompId="39" StatementType="ASSIGN" RetrievedFromCache="true" />
                              </Statements>
                            </Then>
                          </StmtCond>
                        </Statements>
                      </Else>
                    </StmtCond>
                  </Statements>
                </Then>
                <Else>
                  <Statements>
                    <StmtCond StatementText=" END&#xD;&#xA;    END&#xD;&#xA;    ELSE&#xD;&#xA;    BEGIN&#xD;&#xA;      -- Check if the NT login has been explicitly denied access&#xD;&#xA;      IF (EXISTS (SELECT *&#xD;&#xA;                  FROM master.dbo.syslogins&#xD;&#xA;                  WHERE (loginname = @login_name)&#xD;&#xA;                    AND (denylogin = 1)))&#xD;&#xA;     " StatementId="30" StatementCompId="44" StatementType="COND WITH QUERY" RetrievedFromCache="true" StatementSubTreeCost="0.00986624" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0x664A2548111FF39C" QueryPlanHash="0xBFBEF1D4F285AA22" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                      <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                      <Condition>
                        <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="40" CompileTime="20" CompileCPU="20" CompileMemory="1872">
                          <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                          <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                          <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00986624" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                            <OutputList>
                              <ColumnReference Column="Expr1066" />
                            </OutputList>
                            <ComputeScalar>
                              <DefinedValues>
                                <DefinedValue>
                                  <ColumnReference Column="Expr1066" />
                                  <ScalarOperator ScalarString="CASE WHEN [Expr1067] THEN (1) ELSE (0) END">
                                    <IF>
                                      <Condition>
                                        <ScalarOperator>
                                          <Identifier>
                                            <ColumnReference Column="Expr1067" />
                                          </Identifier>
                                        </ScalarOperator>
                                      </Condition>
                                      <Then>
                                        <ScalarOperator>
                                          <Const ConstValue="(1)" />
                                        </ScalarOperator>
                                      </Then>
                                      <Else>
                                        <ScalarOperator>
                                          <Const ConstValue="(0)" />
                                        </ScalarOperator>
                                      </Else>
                                    </IF>
                                  </ScalarOperator>
                                </DefinedValue>
                              </DefinedValues>
                              <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00986614" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList>
                                  <ColumnReference Column="Expr1067" />
                                </OutputList>
                                <NestedLoops Optimized="0">
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1067" />
                                    </DefinedValue>
                                  </DefinedValues>
                                  <ProbeColumn>
                                    <ColumnReference Column="Expr1067" />
                                  </ProbeColumn>
                                  <RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <ConstantScan />
                                  </RelOp>
                                  <RelOp NodeId="3" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="4.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0098608" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <Filter StartupExpression="0">
                                      <RelOp NodeId="4" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00986032" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList>
                                          <ColumnReference Column="Expr1070" />
                                        </OutputList>
                                        <ComputeScalar>
                                          <DefinedValues>
                                            <DefinedValue>
                                              <ColumnReference Column="Expr1070" />
                                              <ScalarOperator ScalarString="CONVERT(int,CASE WHEN [master].[sys].[sysprivs].[state] as [m].[state]='D' THEN (1) ELSE (0) END,0)">
                                                <Convert DataType="int" Style="0" Implicit="0">
                                                  <ScalarOperator>
                                                    <IF>
                                                      <Condition>
                                                        <ScalarOperator>
                                                          <Compare CompareOp="EQ">
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="'D'" />
                                                            </ScalarOperator>
                                                          </Compare>
                                                        </ScalarOperator>
                                                      </Condition>
                                                      <Then>
                                                        <ScalarOperator>
                                                          <Const ConstValue="(1)" />
                                                        </ScalarOperator>
                                                      </Then>
                                                      <Else>
                                                        <ScalarOperator>
                                                          <Const ConstValue="(0)" />
                                                        </ScalarOperator>
                                                      </Else>
                                                    </IF>
                                                  </ScalarOperator>
                                                </Convert>
                                              </ScalarOperator>
                                            </DefinedValue>
                                          </DefinedValues>
                                          <RelOp NodeId="5" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00986022" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                            <OutputList>
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                            </OutputList>
                                            <NestedLoops Optimized="0">
                                              <OuterReferences>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                              </OuterReferences>
                                              <RelOp NodeId="6" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="12" EstimatedTotalSubtreeCost="0.00657126" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                <OutputList>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                </OutputList>
                                                <NestedLoops Optimized="0">
                                                  <OuterReferences>
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                  </OuterReferences>
                                                  <RelOp NodeId="7" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00328398" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                    <OutputList>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                    </OutputList>
                                                    <Filter StartupExpression="0">
                                                      <RelOp NodeId="8" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="11" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                        <OutputList>
                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                        </OutputList>
                                                        <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                          <DefinedValues>
                                                            <DefinedValue>
                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                            </DefinedValue>
                                                          </DefinedValues>
                                                          <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[nc1]" Alias="[p]" IndexKind="NonClustered" />
                                                          <SeekPredicates>
                                                            <SeekPredicateNew>
                                                              <SeekKeys>
                                                                <Prefix ScanType="EQ">
                                                                  <RangeColumns>
                                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                                  </RangeColumns>
                                                                  <RangeExpressions>
                                                                    <ScalarOperator ScalarString="[@login_name]">
                                                                      <Identifier>
                                                                        <ColumnReference Column="@login_name" />
                                                                      </Identifier>
                                                                    </ScalarOperator>
                                                                  </RangeExpressions>
                                                                </Prefix>
                                                              </SeekKeys>
                                                            </SeekPredicateNew>
                                                          </SeekPredicates>
                                                        </IndexScan>
                                                      </RelOp>
                                                      <Predicate>
                                                        <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                                          <Compare CompareOp="EQ">
                                                            <ScalarOperator>
                                                              <Intrinsic FunctionName="has_access">
                                                                <ScalarOperator>
                                                                  <Const ConstValue="'LG'" />
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Identifier>
                                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                                  </Identifier>
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Const ConstValue="" />
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Const ConstValue="" />
                                                                </ScalarOperator>
                                                              </Intrinsic>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="(1)" />
                                                            </ScalarOperator>
                                                          </Compare>
                                                        </ScalarOperator>
                                                      </Predicate>
                                                    </Filter>
                                                  </RelOp>
                                                  <RelOp NodeId="11" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                    <OutputList />
                                                    <IndexScan Lookup="1" Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                      <DefinedValues />
                                                      <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" TableReferenceId="-1" IndexKind="Clustered" />
                                                      <SeekPredicates>
                                                        <SeekPredicateNew>
                                                          <SeekKeys>
                                                            <Prefix ScanType="EQ">
                                                              <RangeColumns>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                              </RangeColumns>
                                                              <RangeExpressions>
                                                                <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                                  <Identifier>
                                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                                  </Identifier>
                                                                </ScalarOperator>
                                                              </RangeExpressions>
                                                            </Prefix>
                                                          </SeekKeys>
                                                        </SeekPredicateNew>
                                                      </SeekPredicates>
                                                      <Predicate>
                                                        <ScalarOperator ScalarString="([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'M' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'M') AND ([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'R' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'R')">
                                                          <Logical Operation="AND">
                                                            <ScalarOperator>
                                                              <Logical Operation="OR">
                                                                <ScalarOperator>
                                                                  <Compare CompareOp="LT">
                                                                    <ScalarOperator>
                                                                      <Identifier>
                                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                      </Identifier>
                                                                    </ScalarOperator>
                                                                    <ScalarOperator>
                                                                      <Const ConstValue="'M'" />
                                                                    </ScalarOperator>
                                                                  </Compare>
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Compare CompareOp="GT">
                                                                    <ScalarOperator>
                                                                      <Identifier>
                                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                      </Identifier>
                                                                    </ScalarOperator>
                                                                    <ScalarOperator>
                                                                      <Const ConstValue="'M'" />
                                                                    </ScalarOperator>
                                                                  </Compare>
                                                                </ScalarOperator>
                                                              </Logical>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Logical Operation="OR">
                                                                <ScalarOperator>
                                                                  <Compare CompareOp="LT">
                                                                    <ScalarOperator>
                                                                      <Identifier>
                                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                      </Identifier>
                                                                    </ScalarOperator>
                                                                    <ScalarOperator>
                                                                      <Const ConstValue="'R'" />
                                                                    </ScalarOperator>
                                                                  </Compare>
                                                                </ScalarOperator>
                                                                <ScalarOperator>
                                                                  <Compare CompareOp="GT">
                                                                    <ScalarOperator>
                                                                      <Identifier>
                                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                      </Identifier>
                                                                    </ScalarOperator>
                                                                    <ScalarOperator>
                                                                      <Const ConstValue="'R'" />
                                                                    </ScalarOperator>
                                                                  </Compare>
                                                                </ScalarOperator>
                                                              </Logical>
                                                            </ScalarOperator>
                                                          </Logical>
                                                        </ScalarOperator>
                                                      </Predicate>
                                                    </IndexScan>
                                                  </RelOp>
                                                </NestedLoops>
                                              </RelOp>
                                              <RelOp NodeId="13" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="2181" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                <OutputList>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                </OutputList>
                                                <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                  <DefinedValues>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                    </DefinedValue>
                                                  </DefinedValues>
                                                  <Object Database="[master]" Schema="[sys]" Table="[sysprivs]" Index="[clust]" Alias="[m]" IndexKind="Clustered" />
                                                  <SeekPredicates>
                                                    <SeekPredicateNew>
                                                      <SeekKeys>
                                                        <Prefix ScanType="EQ">
                                                          <RangeColumns>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="class" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="id" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="subid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantee" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantor" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="type" />
                                                          </RangeColumns>
                                                          <RangeExpressions>
                                                            <ScalarOperator ScalarString="(100)">
                                                              <Const ConstValue="(100)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(1)">
                                                              <Const ConstValue="(1)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="'COSQ'">
                                                              <Const ConstValue="'COSQ'" />
                                                            </ScalarOperator>
                                                          </RangeExpressions>
                                                        </Prefix>
                                                      </SeekKeys>
                                                    </SeekPredicateNew>
                                                  </SeekPredicates>
                                                </IndexScan>
                                              </RelOp>
                                            </NestedLoops>
                                          </RelOp>
                                        </ComputeScalar>
                                      </RelOp>
                                      <Predicate>
                                        <ScalarOperator ScalarString="[Expr1070]=(1)">
                                          <Compare CompareOp="EQ">
                                            <ScalarOperator>
                                              <Identifier>
                                                <ColumnReference Column="Expr1070" />
                                              </Identifier>
                                            </ScalarOperator>
                                            <ScalarOperator>
                                              <Const ConstValue="(1)" />
                                            </ScalarOperator>
                                          </Compare>
                                        </ScalarOperator>
                                      </Predicate>
                                    </Filter>
                                  </RelOp>
                                </NestedLoops>
                              </RelOp>
                            </ComputeScalar>
                          </RelOp>
                          <ParameterList>
                            <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                          </ParameterList>
                        </QueryPlan>
                      </Condition>
                      <Then>
                        <Statements>
                          <StmtSimple StatementText=" BEGIN&#xD;&#xA;        SELECT @has_server_access = 0,&#xD;&#xA;               @is_sysadmin = sysadmin,&#xD;&#xA;               @actual_login_name = loginname&#xD;&#xA;        FROM master.dbo.syslogins&#xD;&#xA;        WHERE (loginname = @login_name)&#xD;&#xA;&#xD;&#xA;       " StatementId="31" StatementCompId="45" StatementType="SELECT" RetrievedFromCache="true" StatementSubTreeCost="0.0098613" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0x6775DF8E8621B529" QueryPlanHash="0x2716FE99DDCD5063" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="40" CompileTime="19" CompileCPU="19" CompileMemory="1864">
                              <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                              <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                              <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="41" EstimatedTotalSubtreeCost="0.0098613" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList>
                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                  <ColumnReference Column="Expr1065" />
                                  <ColumnReference Column="Expr1066" />
                                </OutputList>
                                <ComputeScalar>
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1065" />
                                      <ScalarOperator ScalarString="(0)">
                                        <Const ConstValue="(0)" />
                                      </ScalarOperator>
                                    </DefinedValue>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1066" />
                                      <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CONVERT(int,isnull([Expr1028],(0)),0),0)">
                                        <Convert DataType="bit" Style="0" Implicit="1">
                                          <ScalarOperator>
                                            <Convert DataType="int" Style="0" Implicit="0">
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="isnull">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="Expr1028" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="(0)" />
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Convert>
                                          </ScalarOperator>
                                        </Convert>
                                      </ScalarOperator>
                                    </DefinedValue>
                                  </DefinedValues>
                                  <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="44" EstimatedTotalSubtreeCost="0.0098612" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList>
                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                      <ColumnReference Column="Expr1028" />
                                    </OutputList>
                                    <NestedLoops Optimized="0">
                                      <OuterReferences>
                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                      </OuterReferences>
                                      <RelOp NodeId="2" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00657126" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList>
                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                        </OutputList>
                                        <NestedLoops Optimized="0">
                                          <OuterReferences>
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                          </OuterReferences>
                                          <RelOp NodeId="3" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="44" EstimatedTotalSubtreeCost="0.00328398" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                            <OutputList>
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                            </OutputList>
                                            <Filter StartupExpression="0">
                                              <RelOp NodeId="4" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="44" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                <OutputList>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                </OutputList>
                                                <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                  <DefinedValues>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                    </DefinedValue>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                    </DefinedValue>
                                                  </DefinedValues>
                                                  <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[nc1]" Alias="[p]" IndexKind="NonClustered" />
                                                  <SeekPredicates>
                                                    <SeekPredicateNew>
                                                      <SeekKeys>
                                                        <Prefix ScanType="EQ">
                                                          <RangeColumns>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                          </RangeColumns>
                                                          <RangeExpressions>
                                                            <ScalarOperator ScalarString="[@login_name]">
                                                              <Identifier>
                                                                <ColumnReference Column="@login_name" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                          </RangeExpressions>
                                                        </Prefix>
                                                      </SeekKeys>
                                                    </SeekPredicateNew>
                                                  </SeekPredicates>
                                                </IndexScan>
                                              </RelOp>
                                              <Predicate>
                                                <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                                  <Compare CompareOp="EQ">
                                                    <ScalarOperator>
                                                      <Intrinsic FunctionName="has_access">
                                                        <ScalarOperator>
                                                          <Const ConstValue="'LG'" />
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Identifier>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                          </Identifier>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Const ConstValue="" />
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Const ConstValue="" />
                                                        </ScalarOperator>
                                                      </Intrinsic>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Const ConstValue="(1)" />
                                                    </ScalarOperator>
                                                  </Compare>
                                                </ScalarOperator>
                                              </Predicate>
                                            </Filter>
                                          </RelOp>
                                          <RelOp NodeId="7" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                            <OutputList />
                                            <IndexScan Lookup="1" Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                              <DefinedValues />
                                              <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" TableReferenceId="-1" IndexKind="Clustered" />
                                              <SeekPredicates>
                                                <SeekPredicateNew>
                                                  <SeekKeys>
                                                    <Prefix ScanType="EQ">
                                                      <RangeColumns>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                      </RangeColumns>
                                                      <RangeExpressions>
                                                        <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                          <Identifier>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                          </Identifier>
                                                        </ScalarOperator>
                                                      </RangeExpressions>
                                                    </Prefix>
                                                  </SeekKeys>
                                                </SeekPredicateNew>
                                              </SeekPredicates>
                                              <Predicate>
                                                <ScalarOperator ScalarString="([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'M' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'M') AND ([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'R' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'R')">
                                                  <Logical Operation="AND">
                                                    <ScalarOperator>
                                                      <Logical Operation="OR">
                                                        <ScalarOperator>
                                                          <Compare CompareOp="LT">
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="'M'" />
                                                            </ScalarOperator>
                                                          </Compare>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Compare CompareOp="GT">
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="'M'" />
                                                            </ScalarOperator>
                                                          </Compare>
                                                        </ScalarOperator>
                                                      </Logical>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Logical Operation="OR">
                                                        <ScalarOperator>
                                                          <Compare CompareOp="LT">
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="'R'" />
                                                            </ScalarOperator>
                                                          </Compare>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Compare CompareOp="GT">
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator>
                                                              <Const ConstValue="'R'" />
                                                            </ScalarOperator>
                                                          </Compare>
                                                        </ScalarOperator>
                                                      </Logical>
                                                    </ScalarOperator>
                                                  </Logical>
                                                </ScalarOperator>
                                              </Predicate>
                                            </IndexScan>
                                          </RelOp>
                                        </NestedLoops>
                                      </RelOp>
                                      <RelOp NodeId="9" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00328408" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                        <OutputList>
                                          <ColumnReference Column="Expr1028" />
                                        </OutputList>
                                        <ComputeScalar>
                                          <DefinedValues>
                                            <DefinedValue>
                                              <ColumnReference Column="Expr1028" />
                                              <ScalarOperator ScalarString="(1)">
                                                <Const ConstValue="(1)" />
                                              </ScalarOperator>
                                            </DefinedValue>
                                          </DefinedValues>
                                          <RelOp NodeId="10" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00328398" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                            <OutputList />
                                            <Filter StartupExpression="0">
                                              <RelOp NodeId="11" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="15" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="117" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                <OutputList>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                </OutputList>
                                                <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                  <DefinedValues>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                    </DefinedValue>
                                                    <DefinedValue>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                    </DefinedValue>
                                                  </DefinedValues>
                                                  <Object Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Index="[clst]" TableReferenceId="1" IndexKind="Clustered" />
                                                  <SeekPredicates>
                                                    <SeekPredicateNew>
                                                      <SeekKeys>
                                                        <Prefix ScanType="EQ">
                                                          <RangeColumns>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="class" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depsubid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepsubid" />
                                                          </RangeColumns>
                                                          <RangeExpressions>
                                                            <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                              <Identifier>
                                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(26)">
                                                              <Const ConstValue="(26)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(3)">
                                                              <Const ConstValue="(3)" />
                                                            </ScalarOperator>
                                                            <ScalarOperator ScalarString="(0)">
                                                              <Const ConstValue="(0)" />
                                                            </ScalarOperator>
                                                          </RangeExpressions>
                                                        </Prefix>
                                                      </SeekKeys>
                                                    </SeekPredicateNew>
                                                  </SeekPredicates>
                                                </IndexScan>
                                              </RelOp>
                                              <Predicate>
                                                <ScalarOperator ScalarString="has_access('SM',[master].[sys].[sysmultiobjrefs].[depid],[master].[sys].[sysmultiobjrefs].[indepid])=(1)">
                                                  <Compare CompareOp="EQ">
                                                    <ScalarOperator>
                                                      <Intrinsic FunctionName="has_access">
                                                        <ScalarOperator>
                                                          <Const ConstValue="'SM'" />
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Identifier>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                          </Identifier>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Identifier>
                                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                          </Identifier>
                                                        </ScalarOperator>
                                                        <ScalarOperator>
                                                          <Const ConstValue="" />
                                                        </ScalarOperator>
                                                      </Intrinsic>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Const ConstValue="(1)" />
                                                    </ScalarOperator>
                                                  </Compare>
                                                </ScalarOperator>
                                              </Predicate>
                                            </Filter>
                                          </RelOp>
                                        </ComputeScalar>
                                      </RelOp>
                                    </NestedLoops>
                                  </RelOp>
                                </ComputeScalar>
                              </RelOp>
                              <ParameterList>
                                <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                              </ParameterList>
                            </QueryPlan>
                          </StmtSimple>
                          <StmtSimple StatementText=" SET @login_found = 1&#xD;&#xA;     " StatementId="32" StatementCompId="46" StatementType="ASSIGN" RetrievedFromCache="true" />
                        </Statements>
                      </Then>
                      <Else>
                        <Statements>
                          <StmtSimple StatementText=" END&#xD;&#xA;      ELSE&#xD;&#xA;      BEGIN&#xD;&#xA;        -- declare table variable for storing results&#xD;&#xA;        DECLARE @xp_results TABLE&#xD;&#xA;        (&#xD;&#xA;        account_name      sysname      COLLATE database_default NOT NULL PRIMARY KEY,&#xD;&#xA;        type              NVARCHAR(10) COLLATE database_default NOT NULL,&#xD;&#xA;        privilege         NVARCHAR(10) COLLATE database_default NOT NULL,&#xD;&#xA;        mapped_login_name sysname      COLLATE database_default NOT NULL,&#xD;&#xA;        permission_path   sysname      COLLATE database_default NULL&#xD;&#xA;        )&#xD;&#xA;&#xD;&#xA;        -- Call xp_logininfo to determine server access&#xD;&#xA;        INSERT INTO @xp_results&#xD;&#xA;        EXECUTE master.dbo.xp_logininfo @login_name&#xD;&#xA;&#xD;&#xA;       " StatementId="33" StatementCompId="50" StatementType="INSERT EXEC" RetrievedFromCache="true" StatementSubTreeCost="0.0132841" StatementEstRows="1" StatementOptmLevel="TRIVIAL" QueryHash="0x451BEF3DCB93150B" QueryPlanHash="0x2A534A44CAEFA255">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="0" CompileCPU="0" CompileMemory="424">
                              <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                              <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                              <RelOp NodeId="0" PhysicalOp="Clustered Index Insert" LogicalOp="Insert" EstimateRows="1" EstimateIO="0.01" EstimateCPU="1e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0132841" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList />
                                <Update DMLRequestSort="0">
                                  <Object Table="[@xp_results]" Index="[PK__#BF73641__6894C54BFBB9F5FC]" />
                                  <SetPredicate>
                                    <ScalarOperator ScalarString="[account_name] = RaiseIfNullInsert([Parameter Table].[account_name] as [ParameterTable].[account_name]),[type] = RaiseIfNullInsert([Parameter Table].[type] as [ParameterTable].[type]),[privilege] = RaiseIfNullInsert([Parameter Table].[privilege] as [ParameterTable].[privilege]),[mapped_login_name] = RaiseIfNullInsert([Parameter Table].[mapped_login_name] as [ParameterTable].[mapped_login_name]),[permission_path] = [Parameter Table].[permission_path] as [ParameterTable].[permission_path]">
                                      <ScalarExpressionList>
                                        <ScalarOperator>
                                          <MultipleAssign>
                                            <Assign>
                                              <ColumnReference Column="account_name" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="account_name" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Column="type" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="type" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Column="privilege" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="privilege" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Column="mapped_login_name" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="mapped_login_name" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Column="permission_path" />
                                              <ScalarOperator>
                                                <Identifier>
                                                  <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="permission_path" />
                                                </Identifier>
                                              </ScalarOperator>
                                            </Assign>
                                          </MultipleAssign>
                                        </ScalarOperator>
                                      </ScalarExpressionList>
                                    </ScalarOperator>
                                  </SetPredicate>
                                  <RelOp NodeId="1" PhysicalOp="Parameter Table Scan" LogicalOp="Parameter Table Scan" EstimateRows="1" EstimateIO="0.0032035" EstimateCPU="7.96e-005" AvgRowSize="423" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="0" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList>
                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="account_name" />
                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="type" />
                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="privilege" />
                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="mapped_login_name" />
                                      <ColumnReference Table="[Parameter Table]" Alias="[ParameterTable]" Column="permission_path" />
                                    </OutputList>
                                    <ParameterTableScan />
                                  </RelOp>
                                </Update>
                              </RelOp>
                            </QueryPlan>
                          </StmtSimple>
                          <StmtSimple StatementId="33" StatementCompId="50" StatementType="EXECUTE PROC" RetrievedFromCache="true" />
                          <StmtCond StatementText=" IF (SELECT COUNT(*) FROM @xp_results) &gt; 0&#xD;&#xA;       " StatementId="34" StatementCompId="51" StatementType="COND WITH QUERY" RetrievedFromCache="true" StatementSubTreeCost="0.00328854" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0xC79342A4671172D0" QueryPlanHash="0xF266DF4D0B7F9515" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <Condition>
                              <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="1" CompileCPU="1" CompileMemory="448">
                                <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                                <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                                <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00328854" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                  <OutputList>
                                    <ColumnReference Column="Expr1005" />
                                  </OutputList>
                                  <ComputeScalar>
                                    <DefinedValues>
                                      <DefinedValue>
                                        <ColumnReference Column="Expr1005" />
                                        <ScalarOperator ScalarString="CASE WHEN [Expr1006] THEN (1) ELSE (0) END">
                                          <IF>
                                            <Condition>
                                              <ScalarOperator>
                                                <Identifier>
                                                  <ColumnReference Column="Expr1006" />
                                                </Identifier>
                                              </ScalarOperator>
                                            </Condition>
                                            <Then>
                                              <ScalarOperator>
                                                <Const ConstValue="(1)" />
                                              </ScalarOperator>
                                            </Then>
                                            <Else>
                                              <ScalarOperator>
                                                <Const ConstValue="(0)" />
                                              </ScalarOperator>
                                            </Else>
                                          </IF>
                                        </ScalarOperator>
                                      </DefinedValue>
                                    </DefinedValues>
                                    <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00328844" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                      <OutputList>
                                        <ColumnReference Column="Expr1006" />
                                      </OutputList>
                                      <NestedLoops Optimized="0">
                                        <DefinedValues>
                                          <DefinedValue>
                                            <ColumnReference Column="Expr1006" />
                                          </DefinedValue>
                                        </DefinedValues>
                                        <ProbeColumn>
                                          <ColumnReference Column="Expr1006" />
                                        </ProbeColumn>
                                        <RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList />
                                          <ConstantScan />
                                        </RelOp>
                                        <RelOp NodeId="3" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="0" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList />
                                          <IndexScan Ordered="0" ForcedIndex="0" ForceScan="0" NoExpandHint="0">
                                            <DefinedValues />
                                            <Object Table="[@xp_results]" Index="[PK__#BF73641__6894C54BFBB9F5FC]" />
                                          </IndexScan>
                                        </RelOp>
                                      </NestedLoops>
                                    </RelOp>
                                  </ComputeScalar>
                                </RelOp>
                              </QueryPlan>
                            </Condition>
                            <Then>
                              <Statements>
                                <StmtSimple StatementText=" BEGIN&#xD;&#xA;          SET @has_server_access = 1&#xD;&#xA;         " StatementId="35" StatementCompId="52" StatementType="ASSIGN" RetrievedFromCache="true" />
                                <StmtSimple StatementText=" SET @login_found = 1&#xD;&#xA;       " StatementId="36" StatementCompId="53" StatementType="ASSIGN" RetrievedFromCache="true" />
                              </Statements>
                            </Then>
                          </StmtCond>
                          <StmtSimple StatementText=" END&#xD;&#xA;        &#xD;&#xA;        SELECT @actual_login_name = mapped_login_name,&#xD;&#xA;               @is_sysadmin = CASE UPPER(privilege collate SQL_Latin1_General_CP1_CS_AS)&#xD;&#xA;                                WHEN 'ADMIN' THEN 1&#xD;&#xA;                                ELSE 0&#xD;&#xA;                             END&#xD;&#xA;        FROM @xp_results&#xD;&#xA;     " StatementId="37" StatementCompId="55" StatementType="SELECT" RetrievedFromCache="true" StatementSubTreeCost="0.0032832" StatementEstRows="1" StatementOptmLevel="TRIVIAL" QueryHash="0xD80E9DC9F1BF7C8A" QueryPlanHash="0xAE4A93FB2CA8056F">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="0" CompileCPU="0" CompileMemory="416">
                              <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                              <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                              <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="140" EstimatedTotalSubtreeCost="0.0032832" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList>
                                  <ColumnReference Column="mapped_login_name" />
                                  <ColumnReference Column="Expr1003" />
                                </OutputList>
                                <ComputeScalar>
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1003" />
                                      <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CASE WHEN upper(CONVERT(nvarchar(10),[privilege],0))=N'ADMIN' THEN (1) ELSE (0) END,0)">
                                        <Convert DataType="bit" Style="0" Implicit="1">
                                          <ScalarOperator>
                                            <IF>
                                              <Condition>
                                                <ScalarOperator>
                                                  <Compare CompareOp="EQ">
                                                    <ScalarOperator>
                                                      <Intrinsic FunctionName="upper">
                                                        <ScalarOperator>
                                                          <Convert DataType="nvarchar" Length="20" Style="0" Implicit="0">
                                                            <ScalarOperator>
                                                              <Identifier>
                                                                <ColumnReference Column="privilege" />
                                                              </Identifier>
                                                            </ScalarOperator>
                                                          </Convert>
                                                        </ScalarOperator>
                                                      </Intrinsic>
                                                    </ScalarOperator>
                                                    <ScalarOperator>
                                                      <Const ConstValue="N'ADMIN'" />
                                                    </ScalarOperator>
                                                  </Compare>
                                                </ScalarOperator>
                                              </Condition>
                                              <Then>
                                                <ScalarOperator>
                                                  <Const ConstValue="(1)" />
                                                </ScalarOperator>
                                              </Then>
                                              <Else>
                                                <ScalarOperator>
                                                  <Const ConstValue="(0)" />
                                                </ScalarOperator>
                                              </Else>
                                            </IF>
                                          </ScalarOperator>
                                        </Convert>
                                      </ScalarOperator>
                                    </DefinedValue>
                                  </DefinedValues>
                                  <RelOp NodeId="1" PhysicalOp="Clustered Index Scan" LogicalOp="Clustered Index Scan" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="151" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="0" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList>
                                      <ColumnReference Column="privilege" />
                                      <ColumnReference Column="mapped_login_name" />
                                    </OutputList>
                                    <IndexScan Ordered="0" ForcedIndex="0" ForceScan="0" NoExpandHint="0">
                                      <DefinedValues>
                                        <DefinedValue>
                                          <ColumnReference Column="privilege" />
                                        </DefinedValue>
                                        <DefinedValue>
                                          <ColumnReference Column="mapped_login_name" />
                                        </DefinedValue>
                                      </DefinedValues>
                                      <Object Table="[@xp_results]" Index="[PK__#BF73641__6894C54BFBB9F5FC]" />
                                    </IndexScan>
                                  </RelOp>
                                </ComputeScalar>
                              </RelOp>
                            </QueryPlan>
                          </StmtSimple>
                        </Statements>
                      </Else>
                    </StmtCond>
                  </Statements>
                </Else>
              </StmtCond>
              <StmtCond StatementText=" END&#xD;&#xA;    END&#xD;&#xA;    -- Only cache the NT logins to approximate the behavior of Sql Server and Windows (see bug 323287)&#xD;&#xA;    -- update the cache only if something is found&#xD;&#xA;    IF  (UPPER(@actual_login_name collate SQL_Latin1_General_CP1_CS_AS) &lt;&gt; '(UNKNOWN)')&#xD;&#xA;   " StatementId="38" StatementCompId="58" StatementType="COND" RetrievedFromCache="true">
                <Condition />
                <Then>
                  <Statements>
                    <StmtSimple StatementText=" BEGIN&#xD;&#xA;      -- Procedure starts its own transaction.&#xD;&#xA;      BEGIN TRANSACTION;&#xD;&#xA;      &#xD;&#xA;      -- Modify database.&#xD;&#xA;      -- use a try catch login to prevent any error when trying &#xD;&#xA;      -- to insert/update syscachedcredentials table&#xD;&#xA;      -- no need to fail since the job owner has been validated&#xD;&#xA;     " StatementId="39" StatementCompId="59" StatementType="BEGIN TRANSACTION" RetrievedFromCache="true" />
                    <StmtSimple StatementText=" BEGIN TRY      &#xD;&#xA;       " StatementId="40" StatementCompId="60" StatementType="BEGIN TRY" RetrievedFromCache="true" />
                    <StmtCond StatementText=" IF EXISTS (SELECT * FROM msdb.dbo.syscachedcredentials WITH (TABLOCKX) WHERE login_name = @login_name)&#xD;&#xA;       " StatementId="41" StatementCompId="61" StatementType="COND WITH QUERY" RetrievedFromCache="true" StatementSubTreeCost="0.00328854" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0x2ADCFB1686F6DCBE" QueryPlanHash="0x9EC06BB8B4C23FE6" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                      <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                      <Condition>
                        <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="1" CompileCPU="1" CompileMemory="456">
                          <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                          <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                          <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00328854" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                            <OutputList>
                              <ColumnReference Column="Expr1004" />
                            </OutputList>
                            <ComputeScalar>
                              <DefinedValues>
                                <DefinedValue>
                                  <ColumnReference Column="Expr1004" />
                                  <ScalarOperator ScalarString="CASE WHEN [Expr1005] THEN (1) ELSE (0) END">
                                    <IF>
                                      <Condition>
                                        <ScalarOperator>
                                          <Identifier>
                                            <ColumnReference Column="Expr1005" />
                                          </Identifier>
                                        </ScalarOperator>
                                      </Condition>
                                      <Then>
                                        <ScalarOperator>
                                          <Const ConstValue="(1)" />
                                        </ScalarOperator>
                                      </Then>
                                      <Else>
                                        <ScalarOperator>
                                          <Const ConstValue="(0)" />
                                        </ScalarOperator>
                                      </Else>
                                    </IF>
                                  </ScalarOperator>
                                </DefinedValue>
                              </DefinedValues>
                              <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00328844" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList>
                                  <ColumnReference Column="Expr1005" />
                                </OutputList>
                                <NestedLoops Optimized="0">
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1005" />
                                    </DefinedValue>
                                  </DefinedValues>
                                  <ProbeColumn>
                                    <ColumnReference Column="Expr1005" />
                                  </ProbeColumn>
                                  <RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <ConstantScan />
                                  </RelOp>
                                  <RelOp NodeId="3" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="0" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                    <OutputList />
                                    <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                      <DefinedValues />
                                      <Object Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Index="[PK__syscache__F6D56B5641F5B77F]" IndexKind="Clustered" />
                                      <SeekPredicates>
                                        <SeekPredicateNew>
                                          <SeekKeys>
                                            <Prefix ScanType="EQ">
                                              <RangeColumns>
                                                <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="login_name" />
                                              </RangeColumns>
                                              <RangeExpressions>
                                                <ScalarOperator ScalarString="[@login_name]">
                                                  <Identifier>
                                                    <ColumnReference Column="@login_name" />
                                                  </Identifier>
                                                </ScalarOperator>
                                              </RangeExpressions>
                                            </Prefix>
                                          </SeekKeys>
                                        </SeekPredicateNew>
                                      </SeekPredicates>
                                    </IndexScan>
                                  </RelOp>
                                </NestedLoops>
                              </RelOp>
                            </ComputeScalar>
                          </RelOp>
                          <ParameterList>
                            <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                          </ParameterList>
                        </QueryPlan>
                      </Condition>
                      <Then>
                        <Statements>
                          <StmtSimple StatementText=" BEGIN&#xD;&#xA;          UPDATE msdb.dbo.syscachedcredentials&#xD;&#xA;          SET    has_server_access = @has_server_access,&#xD;&#xA;                is_sysadmin_member = @is_sysadmin,&#xD;&#xA;                cachedate = GETDATE()&#xD;&#xA;          WHERE  login_name = @login_name&#xD;&#xA;       " StatementId="42" StatementCompId="62" StatementType="UPDATE" RetrievedFromCache="true" StatementSubTreeCost="0.0132842" StatementEstRows="1" StatementOptmLevel="TRIVIAL" QueryHash="0x76469C12FF6099CA" QueryPlanHash="0x342ECBD52D846340">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="2" CompileCPU="2" CompileMemory="520">
                              <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                              <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                              <RelOp NodeId="0" PhysicalOp="Clustered Index Update" LogicalOp="Update" EstimateRows="1" EstimateIO="0.01" EstimateCPU="1e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0132842" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList />
                                <SimpleUpdate DMLRequestSort="0">
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1003" />
                                      <ScalarOperator ScalarString="getdate()">
                                        <Identifier>
                                          <ColumnReference Column="ConstExpr1010">
                                            <ScalarOperator>
                                              <Intrinsic FunctionName="getdate" />
                                            </ScalarOperator>
                                          </ColumnReference>
                                        </Identifier>
                                      </ScalarOperator>
                                    </DefinedValue>
                                  </DefinedValues>
                                  <Object Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Index="[PK__syscache__F6D56B5641F5B77F]" IndexKind="Clustered" />
                                  <SeekPredicateNew>
                                    <SeekKeys>
                                      <Prefix ScanType="EQ">
                                        <RangeColumns>
                                          <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="login_name" />
                                        </RangeColumns>
                                        <RangeExpressions>
                                          <ScalarOperator ScalarString="[@login_name]">
                                            <Identifier>
                                              <ColumnReference Column="@login_name" />
                                            </Identifier>
                                          </ScalarOperator>
                                        </RangeExpressions>
                                      </Prefix>
                                    </SeekKeys>
                                  </SeekPredicateNew>
                                  <SetPredicate>
                                    <ScalarOperator ScalarString="[msdb].[dbo].[syscachedcredentials].[has_server_access] = RaiseIfNullUpdate([@has_server_access]),[msdb].[dbo].[syscachedcredentials].[is_sysadmin_member] = RaiseIfNullUpdate([@is_sysadmin]),[msdb].[dbo].[syscachedcredentials].[cachedate] = RaiseIfNullUpdate([Expr1003])">
                                      <ScalarExpressionList>
                                        <ScalarOperator>
                                          <MultipleAssign>
                                            <Assign>
                                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="has_server_access" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullUpdate">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="@has_server_access" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="is_sysadmin_member" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullUpdate">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="@is_sysadmin" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="cachedate" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullUpdate">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="Expr1003" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                          </MultipleAssign>
                                        </ScalarOperator>
                                      </ScalarExpressionList>
                                    </ScalarOperator>
                                  </SetPredicate>
                                </SimpleUpdate>
                              </RelOp>
                              <ParameterList>
                                <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                              </ParameterList>
                            </QueryPlan>
                          </StmtSimple>
                        </Statements>
                      </Then>
                      <Else>
                        <Statements>
                          <StmtSimple StatementText=" END&#xD;&#xA;        ELSE&#xD;&#xA;        BEGIN&#xD;&#xA;          INSERT INTO msdb.dbo.syscachedcredentials(login_name, has_server_access, is_sysadmin_member) &#xD;&#xA;          VALUES(@login_name, @has_server_access, @is_sysadmin)&#xD;&#xA;       " StatementId="43" StatementCompId="65" StatementType="INSERT" RetrievedFromCache="true" StatementSubTreeCost="0.0100022" StatementEstRows="1" StatementOptmLevel="TRIVIAL" QueryHash="0xF0A10689A0ED82E0" QueryPlanHash="0x5E5E40E9A6E077F7">
                            <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                            <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="16" CompileTime="0" CompileCPU="0" CompileMemory="424">
                              <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                              <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                              <RelOp NodeId="0" PhysicalOp="Clustered Index Insert" LogicalOp="Insert" EstimateRows="1" EstimateIO="0.01" EstimateCPU="1e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0100022" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                <OutputList />
                                <ScalarInsert DMLRequestSort="0">
                                  <DefinedValues>
                                    <DefinedValue>
                                      <ColumnReference Column="Expr1003" />
                                      <ScalarOperator ScalarString="getdate()">
                                        <Identifier>
                                          <ColumnReference Column="ConstExpr1004">
                                            <ScalarOperator>
                                              <Intrinsic FunctionName="getdate" />
                                            </ScalarOperator>
                                          </ColumnReference>
                                        </Identifier>
                                      </ScalarOperator>
                                    </DefinedValue>
                                  </DefinedValues>
                                  <Object Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Index="[PK__syscache__F6D56B5641F5B77F]" IndexKind="Clustered" />
                                  <SetPredicate>
                                    <ScalarOperator ScalarString="[msdb].[dbo].[syscachedcredentials].[login_name] = RaiseIfNullInsert([@login_name]),[msdb].[dbo].[syscachedcredentials].[has_server_access] = RaiseIfNullInsert([@has_server_access]),[msdb].[dbo].[syscachedcredentials].[is_sysadmin_member] = RaiseIfNullInsert([@is_sysadmin]),[msdb].[dbo].[syscachedcredentials].[cachedate] = RaiseIfNullInsert([Expr1003])">
                                      <ScalarExpressionList>
                                        <ScalarOperator>
                                          <MultipleAssign>
                                            <Assign>
                                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="login_name" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="@login_name" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="has_server_access" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="@has_server_access" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="is_sysadmin_member" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="@is_sysadmin" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                            <Assign>
                                              <ColumnReference Database="[msdb]" Schema="[dbo]" Table="[syscachedcredentials]" Column="cachedate" />
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="RaiseIfNullInsert">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Column="Expr1003" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                            </Assign>
                                          </MultipleAssign>
                                        </ScalarOperator>
                                      </ScalarExpressionList>
                                    </ScalarOperator>
                                  </SetPredicate>
                                </ScalarInsert>
                              </RelOp>
                              <ParameterList>
                                <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                              </ParameterList>
                            </QueryPlan>
                          </StmtSimple>
                        </Statements>
                      </Else>
                    </StmtCond>
                    <StmtSimple StatementText=" END&#xD;&#xA;        END TRY&#xD;&#xA;       " StatementId="44" StatementCompId="67" StatementType="END TRY" RetrievedFromCache="true" />
                    <StmtSimple StatementText=" BEGIN CATCH&#xD;&#xA;            -- If an error occurred we want to ignore it&#xD;&#xA;       " StatementId="45" StatementCompId="68" StatementType="BEGIN CATCH" RetrievedFromCache="true" />
                    <StmtSimple StatementText=" END CATC" StatementId="46" StatementCompId="69" StatementType="END CATCH" RetrievedFromCache="true" />
                    <StmtSimple StatementText="H&#xD;&#xA;        &#xD;&#xA;        -- The procedure must commit the transaction it started.&#xD;&#xA;        COMMIT TRANSACTION;  &#xD;&#xA;   " StatementId="47" StatementCompId="71" StatementType="COMMIT TRANSACTION" RetrievedFromCache="true" />
                  </Statements>
                </Then>
              </StmtCond>
            </Statements>
          </Then>
          <Else>
            <Statements>
              <StmtCond StatementText=" END&#xD;&#xA;  &#xD;&#xA;  END&#xD;&#xA;  ELSE&#xD;&#xA;  BEGIN&#xD;&#xA;    -- Standard login&#xD;&#xA;    IF (EXISTS (SELECT *&#xD;&#xA;                FROM master.dbo.syslogins&#xD;&#xA;                WHERE (loginname = @login_name)))&#xD;&#xA;   " StatementId="48" StatementCompId="75" StatementType="COND WITH QUERY" RetrievedFromCache="true" StatementSubTreeCost="0.00657838" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0x44FCD04619114AA5" QueryPlanHash="0x1D5BAEA9FA567965" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                <Condition>
                  <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="32" CompileTime="16" CompileCPU="16" CompileMemory="1728">
                    <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                    <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                    <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00657838" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                      <OutputList>
                        <ColumnReference Column="Expr1066" />
                      </OutputList>
                      <ComputeScalar>
                        <DefinedValues>
                          <DefinedValue>
                            <ColumnReference Column="Expr1066" />
                            <ScalarOperator ScalarString="CASE WHEN [Expr1067] THEN (1) ELSE (0) END">
                              <IF>
                                <Condition>
                                  <ScalarOperator>
                                    <Identifier>
                                      <ColumnReference Column="Expr1067" />
                                    </Identifier>
                                  </ScalarOperator>
                                </Condition>
                                <Then>
                                  <ScalarOperator>
                                    <Const ConstValue="(1)" />
                                  </ScalarOperator>
                                </Then>
                                <Else>
                                  <ScalarOperator>
                                    <Const ConstValue="(0)" />
                                  </ScalarOperator>
                                </Else>
                              </IF>
                            </ScalarOperator>
                          </DefinedValue>
                        </DefinedValues>
                        <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Semi Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00657828" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                          <OutputList>
                            <ColumnReference Column="Expr1067" />
                          </OutputList>
                          <NestedLoops Optimized="0">
                            <DefinedValues>
                              <DefinedValue>
                                <ColumnReference Column="Expr1067" />
                              </DefinedValue>
                            </DefinedValues>
                            <ProbeColumn>
                              <ColumnReference Column="Expr1067" />
                            </ProbeColumn>
                            <RelOp NodeId="2" PhysicalOp="Constant Scan" LogicalOp="Constant Scan" EstimateRows="1" EstimateIO="0" EstimateCPU="1.157e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="1.157e-006" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                              <OutputList />
                              <ConstantScan />
                            </RelOp>
                            <RelOp NodeId="3" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00657126" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                              <OutputList />
                              <NestedLoops Optimized="0">
                                <OuterReferences>
                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                </OuterReferences>
                                <RelOp NodeId="4" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00328398" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                  <OutputList>
                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                  </OutputList>
                                  <Filter StartupExpression="0">
                                    <RelOp NodeId="5" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="11" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                      <OutputList>
                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                      </OutputList>
                                      <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                        <DefinedValues>
                                          <DefinedValue>
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                          </DefinedValue>
                                        </DefinedValues>
                                        <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[nc1]" Alias="[p]" IndexKind="NonClustered" />
                                        <SeekPredicates>
                                          <SeekPredicateNew>
                                            <SeekKeys>
                                              <Prefix ScanType="EQ">
                                                <RangeColumns>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                </RangeColumns>
                                                <RangeExpressions>
                                                  <ScalarOperator ScalarString="[@login_name]">
                                                    <Identifier>
                                                      <ColumnReference Column="@login_name" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                </RangeExpressions>
                                              </Prefix>
                                            </SeekKeys>
                                          </SeekPredicateNew>
                                        </SeekPredicates>
                                      </IndexScan>
                                    </RelOp>
                                    <Predicate>
                                      <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                        <Compare CompareOp="EQ">
                                          <ScalarOperator>
                                            <Intrinsic FunctionName="has_access">
                                              <ScalarOperator>
                                                <Const ConstValue="'LG'" />
                                              </ScalarOperator>
                                              <ScalarOperator>
                                                <Identifier>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                </Identifier>
                                              </ScalarOperator>
                                              <ScalarOperator>
                                                <Const ConstValue="" />
                                              </ScalarOperator>
                                              <ScalarOperator>
                                                <Const ConstValue="" />
                                              </ScalarOperator>
                                            </Intrinsic>
                                          </ScalarOperator>
                                          <ScalarOperator>
                                            <Const ConstValue="(1)" />
                                          </ScalarOperator>
                                        </Compare>
                                      </ScalarOperator>
                                    </Predicate>
                                  </Filter>
                                </RelOp>
                                <RelOp NodeId="8" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                  <OutputList />
                                  <IndexScan Lookup="1" Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                    <DefinedValues />
                                    <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" TableReferenceId="-1" IndexKind="Clustered" />
                                    <SeekPredicates>
                                      <SeekPredicateNew>
                                        <SeekKeys>
                                          <Prefix ScanType="EQ">
                                            <RangeColumns>
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                            </RangeColumns>
                                            <RangeExpressions>
                                              <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                <Identifier>
                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                </Identifier>
                                              </ScalarOperator>
                                            </RangeExpressions>
                                          </Prefix>
                                        </SeekKeys>
                                      </SeekPredicateNew>
                                    </SeekPredicates>
                                    <Predicate>
                                      <ScalarOperator ScalarString="([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'M' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'M') AND ([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'R' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'R')">
                                        <Logical Operation="AND">
                                          <ScalarOperator>
                                            <Logical Operation="OR">
                                              <ScalarOperator>
                                                <Compare CompareOp="LT">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="'M'" />
                                                  </ScalarOperator>
                                                </Compare>
                                              </ScalarOperator>
                                              <ScalarOperator>
                                                <Compare CompareOp="GT">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="'M'" />
                                                  </ScalarOperator>
                                                </Compare>
                                              </ScalarOperator>
                                            </Logical>
                                          </ScalarOperator>
                                          <ScalarOperator>
                                            <Logical Operation="OR">
                                              <ScalarOperator>
                                                <Compare CompareOp="LT">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="'R'" />
                                                  </ScalarOperator>
                                                </Compare>
                                              </ScalarOperator>
                                              <ScalarOperator>
                                                <Compare CompareOp="GT">
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="'R'" />
                                                  </ScalarOperator>
                                                </Compare>
                                              </ScalarOperator>
                                            </Logical>
                                          </ScalarOperator>
                                        </Logical>
                                      </ScalarOperator>
                                    </Predicate>
                                  </IndexScan>
                                </RelOp>
                              </NestedLoops>
                            </RelOp>
                          </NestedLoops>
                        </RelOp>
                      </ComputeScalar>
                    </RelOp>
                    <ParameterList>
                      <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                    </ParameterList>
                  </QueryPlan>
                </Condition>
                <Then>
                  <Statements>
                    <StmtSimple StatementText=" BEGIN&#xD;&#xA;      SELECT @has_server_access = hasaccess,&#xD;&#xA;             @is_sysadmin = sysadmin,&#xD;&#xA;             @actual_login_name = loginname&#xD;&#xA;      FROM master.dbo.syslogins&#xD;&#xA;      WHERE (loginname = @login_name)&#xD;&#xA;      &#xD;&#xA;     " StatementId="49" StatementCompId="76" StatementType="SELECT" RetrievedFromCache="true" StatementSubTreeCost="0.0131487" StatementEstRows="1" StatementOptmLevel="FULL" QueryHash="0x48C529DF747C201E" QueryPlanHash="0x5CAD2B1479D9AD7" StatementOptmEarlyAbortReason="GoodEnoughPlanFound">
                      <StatementSetOptions QUOTED_IDENTIFIER="false" ARITHABORT="false" CONCAT_NULL_YIELDS_NULL="true" ANSI_NULLS="true" ANSI_PADDING="true" ANSI_WARNINGS="true" NUMERIC_ROUNDABORT="false" />
                      <QueryPlan NonParallelPlanReason="MaxDOPSetToOne" CachedPlanSize="48" CompileTime="25" CompileCPU="25" CompileMemory="1984">
                        <MemoryGrantInfo SerialRequiredMemory="0" SerialDesiredMemory="0" />
                        <OptimizerHardwareDependentProperties EstimatedAvailableMemoryGrant="193313" EstimatedPagesCached="773254" EstimatedAvailableDegreeOfParallelism="1" />
                        <RelOp NodeId="0" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="41" EstimatedTotalSubtreeCost="0.0131487" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                          <OutputList>
                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                            <ColumnReference Column="Expr1065" />
                            <ColumnReference Column="Expr1066" />
                          </OutputList>
                          <ComputeScalar>
                            <DefinedValues>
                              <DefinedValue>
                                <ColumnReference Column="Expr1066" />
                                <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CONVERT(int,isnull([Expr1028],(0)),0),0)">
                                  <Convert DataType="bit" Style="0" Implicit="1">
                                    <ScalarOperator>
                                      <Convert DataType="int" Style="0" Implicit="0">
                                        <ScalarOperator>
                                          <Intrinsic FunctionName="isnull">
                                            <ScalarOperator>
                                              <Identifier>
                                                <ColumnReference Column="Expr1028" />
                                              </Identifier>
                                            </ScalarOperator>
                                            <ScalarOperator>
                                              <Const ConstValue="(0)" />
                                            </ScalarOperator>
                                          </Intrinsic>
                                        </ScalarOperator>
                                      </Convert>
                                    </ScalarOperator>
                                  </Convert>
                                </ScalarOperator>
                              </DefinedValue>
                            </DefinedValues>
                            <RelOp NodeId="1" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="45" EstimatedTotalSubtreeCost="0.0131486" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                              <OutputList>
                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                <ColumnReference Column="Expr1028" />
                                <ColumnReference Column="Expr1065" />
                              </OutputList>
                              <NestedLoops Optimized="0">
                                <OuterReferences>
                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                </OuterReferences>
                                <RelOp NodeId="2" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00986032" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                  <OutputList>
                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                    <ColumnReference Column="Expr1065" />
                                  </OutputList>
                                  <ComputeScalar>
                                    <DefinedValues>
                                      <DefinedValue>
                                        <ColumnReference Column="Expr1065" />
                                        <ScalarOperator ScalarString="CONVERT_IMPLICIT(bit,CONVERT(int,CASE WHEN [master].[sys].[sysprivs].[state] as [m].[state]='W' OR [master].[sys].[sysprivs].[state] as [m].[state]='G' THEN (1) ELSE (0) END,0),0)">
                                          <Convert DataType="bit" Style="0" Implicit="1">
                                            <ScalarOperator>
                                              <Convert DataType="int" Style="0" Implicit="0">
                                                <ScalarOperator>
                                                  <IF>
                                                    <Condition>
                                                      <ScalarOperator>
                                                        <Logical Operation="OR">
                                                          <ScalarOperator>
                                                            <Compare CompareOp="EQ">
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="'W'" />
                                                              </ScalarOperator>
                                                            </Compare>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Compare CompareOp="EQ">
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="'G'" />
                                                              </ScalarOperator>
                                                            </Compare>
                                                          </ScalarOperator>
                                                        </Logical>
                                                      </ScalarOperator>
                                                    </Condition>
                                                    <Then>
                                                      <ScalarOperator>
                                                        <Const ConstValue="(1)" />
                                                      </ScalarOperator>
                                                    </Then>
                                                    <Else>
                                                      <ScalarOperator>
                                                        <Const ConstValue="(0)" />
                                                      </ScalarOperator>
                                                    </Else>
                                                  </IF>
                                                </ScalarOperator>
                                              </Convert>
                                            </ScalarOperator>
                                          </Convert>
                                        </ScalarOperator>
                                      </DefinedValue>
                                    </DefinedValues>
                                    <RelOp NodeId="3" PhysicalOp="Nested Loops" LogicalOp="Left Outer Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00986022" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                      <OutputList>
                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                      </OutputList>
                                      <NestedLoops Optimized="0">
                                        <OuterReferences>
                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                        </OuterReferences>
                                        <RelOp NodeId="4" PhysicalOp="Nested Loops" LogicalOp="Inner Join" EstimateRows="1" EstimateIO="0" EstimateCPU="4.18e-006" AvgRowSize="45" EstimatedTotalSubtreeCost="0.00657126" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList>
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                          </OutputList>
                                          <NestedLoops Optimized="0">
                                            <OuterReferences>
                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                            </OuterReferences>
                                            <RelOp NodeId="5" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="44" EstimatedTotalSubtreeCost="0.00328398" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                              <OutputList>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                              </OutputList>
                                              <Filter StartupExpression="0">
                                                <RelOp NodeId="6" PhysicalOp="Index Seek" LogicalOp="Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="44" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                                  <OutputList>
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                    <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                  </OutputList>
                                                  <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                    <DefinedValues>
                                                      <DefinedValue>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                      </DefinedValue>
                                                      <DefinedValue>
                                                        <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                      </DefinedValue>
                                                    </DefinedValues>
                                                    <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[nc1]" Alias="[p]" IndexKind="NonClustered" />
                                                    <SeekPredicates>
                                                      <SeekPredicateNew>
                                                        <SeekKeys>
                                                          <Prefix ScanType="EQ">
                                                            <RangeColumns>
                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="name" />
                                                            </RangeColumns>
                                                            <RangeExpressions>
                                                              <ScalarOperator ScalarString="[@login_name]">
                                                                <Identifier>
                                                                  <ColumnReference Column="@login_name" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                            </RangeExpressions>
                                                          </Prefix>
                                                        </SeekKeys>
                                                      </SeekPredicateNew>
                                                    </SeekPredicates>
                                                  </IndexScan>
                                                </RelOp>
                                                <Predicate>
                                                  <ScalarOperator ScalarString="has_access('LG',[master].[sys].[sysxlgns].[id] as [p].[id])=(1)">
                                                    <Compare CompareOp="EQ">
                                                      <ScalarOperator>
                                                        <Intrinsic FunctionName="has_access">
                                                          <ScalarOperator>
                                                            <Const ConstValue="'LG'" />
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Identifier>
                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                            </Identifier>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="" />
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Const ConstValue="" />
                                                          </ScalarOperator>
                                                        </Intrinsic>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Const ConstValue="(1)" />
                                                      </ScalarOperator>
                                                    </Compare>
                                                  </ScalarOperator>
                                                </Predicate>
                                              </Filter>
                                            </RelOp>
                                            <RelOp NodeId="9" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="71" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                              <OutputList />
                                              <IndexScan Lookup="1" Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                                <DefinedValues />
                                                <Object Database="[master]" Schema="[sys]" Table="[sysxlgns]" Index="[cl]" Alias="[p]" TableReferenceId="-1" IndexKind="Clustered" />
                                                <SeekPredicates>
                                                  <SeekPredicateNew>
                                                    <SeekKeys>
                                                      <Prefix ScanType="EQ">
                                                        <RangeColumns>
                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                        </RangeColumns>
                                                        <RangeExpressions>
                                                          <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                            <Identifier>
                                                              <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                            </Identifier>
                                                          </ScalarOperator>
                                                        </RangeExpressions>
                                                      </Prefix>
                                                    </SeekKeys>
                                                  </SeekPredicateNew>
                                                </SeekPredicates>
                                                <Predicate>
                                                  <ScalarOperator ScalarString="([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'M' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'M') AND ([master].[sys].[sysxlgns].[type] as [p].[type]&lt;'R' OR [master].[sys].[sysxlgns].[type] as [p].[type]&gt;'R')">
                                                    <Logical Operation="AND">
                                                      <ScalarOperator>
                                                        <Logical Operation="OR">
                                                          <ScalarOperator>
                                                            <Compare CompareOp="LT">
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="'M'" />
                                                              </ScalarOperator>
                                                            </Compare>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Compare CompareOp="GT">
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="'M'" />
                                                              </ScalarOperator>
                                                            </Compare>
                                                          </ScalarOperator>
                                                        </Logical>
                                                      </ScalarOperator>
                                                      <ScalarOperator>
                                                        <Logical Operation="OR">
                                                          <ScalarOperator>
                                                            <Compare CompareOp="LT">
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="'R'" />
                                                              </ScalarOperator>
                                                            </Compare>
                                                          </ScalarOperator>
                                                          <ScalarOperator>
                                                            <Compare CompareOp="GT">
                                                              <ScalarOperator>
                                                                <Identifier>
                                                                  <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="type" />
                                                                </Identifier>
                                                              </ScalarOperator>
                                                              <ScalarOperator>
                                                                <Const ConstValue="'R'" />
                                                              </ScalarOperator>
                                                            </Compare>
                                                          </ScalarOperator>
                                                        </Logical>
                                                      </ScalarOperator>
                                                    </Logical>
                                                  </ScalarOperator>
                                                </Predicate>
                                              </IndexScan>
                                            </RelOp>
                                          </NestedLoops>
                                        </RelOp>
                                        <RelOp NodeId="11" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="9" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="2181" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList>
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                          </OutputList>
                                          <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                            <DefinedValues>
                                              <DefinedValue>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="state" />
                                              </DefinedValue>
                                            </DefinedValues>
                                            <Object Database="[master]" Schema="[sys]" Table="[sysprivs]" Index="[clust]" Alias="[m]" IndexKind="Clustered" />
                                            <SeekPredicates>
                                              <SeekPredicateNew>
                                                <SeekKeys>
                                                  <Prefix ScanType="EQ">
                                                    <RangeColumns>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="class" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="id" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="subid" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantee" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="grantor" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysprivs]" Alias="[m]" Column="type" />
                                                    </RangeColumns>
                                                    <RangeExpressions>
                                                      <ScalarOperator ScalarString="(100)">
                                                        <Const ConstValue="(100)" />
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="(0)">
                                                        <Const ConstValue="(0)" />
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="(0)">
                                                        <Const ConstValue="(0)" />
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                        <Identifier>
                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                        </Identifier>
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="(1)">
                                                        <Const ConstValue="(1)" />
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="'COSQ'">
                                                        <Const ConstValue="'COSQ'" />
                                                      </ScalarOperator>
                                                    </RangeExpressions>
                                                  </Prefix>
                                                </SeekKeys>
                                              </SeekPredicateNew>
                                            </SeekPredicates>
                                          </IndexScan>
                                        </RelOp>
                                      </NestedLoops>
                                    </RelOp>
                                  </ComputeScalar>
                                </RelOp>
                                <RelOp NodeId="15" PhysicalOp="Compute Scalar" LogicalOp="Compute Scalar" EstimateRows="1" EstimateIO="0" EstimateCPU="1e-007" AvgRowSize="11" EstimatedTotalSubtreeCost="0.00328408" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                  <OutputList>
                                    <ColumnReference Column="Expr1028" />
                                  </OutputList>
                                  <ComputeScalar>
                                    <DefinedValues>
                                      <DefinedValue>
                                        <ColumnReference Column="Expr1028" />
                                        <ScalarOperator ScalarString="(1)">
                                          <Const ConstValue="(1)" />
                                        </ScalarOperator>
                                      </DefinedValue>
                                    </DefinedValues>
                                    <RelOp NodeId="16" PhysicalOp="Filter" LogicalOp="Filter" EstimateRows="1" EstimateIO="0" EstimateCPU="8.8e-007" AvgRowSize="9" EstimatedTotalSubtreeCost="0.00328398" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                      <OutputList />
                                      <Filter StartupExpression="0">
                                        <RelOp NodeId="17" PhysicalOp="Clustered Index Seek" LogicalOp="Clustered Index Seek" EstimateRows="1" EstimateIO="0.003125" EstimateCPU="0.0001581" AvgRowSize="15" EstimatedTotalSubtreeCost="0.0032831" TableCardinality="117" Parallel="0" EstimateRebinds="0" EstimateRewinds="0" EstimatedExecutionMode="Row">
                                          <OutputList>
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                            <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                          </OutputList>
                                          <IndexScan Ordered="1" ScanDirection="FORWARD" ForcedIndex="0" ForceSeek="0" ForceScan="0" NoExpandHint="0" Storage="RowStore">
                                            <DefinedValues>
                                              <DefinedValue>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                              </DefinedValue>
                                              <DefinedValue>
                                                <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                              </DefinedValue>
                                            </DefinedValues>
                                            <Object Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Index="[clst]" TableReferenceId="1" IndexKind="Clustered" />
                                            <SeekPredicates>
                                              <SeekPredicateNew>
                                                <SeekKeys>
                                                  <Prefix ScanType="EQ">
                                                    <RangeColumns>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="class" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depsubid" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepsubid" />
                                                    </RangeColumns>
                                                    <RangeExpressions>
                                                      <ScalarOperator ScalarString="[master].[sys].[sysxlgns].[id] as [p].[id]">
                                                        <Identifier>
                                                          <ColumnReference Database="[master]" Schema="[sys]" Table="[sysxlgns]" Alias="[p]" Column="id" />
                                                        </Identifier>
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="(26)">
                                                        <Const ConstValue="(26)" />
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="(0)">
                                                        <Const ConstValue="(0)" />
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="(3)">
                                                        <Const ConstValue="(3)" />
                                                      </ScalarOperator>
                                                      <ScalarOperator ScalarString="(0)">
                                                        <Const ConstValue="(0)" />
                                                      </ScalarOperator>
                                                    </RangeExpressions>
                                                  </Prefix>
                                                </SeekKeys>
                                              </SeekPredicateNew>
                                            </SeekPredicates>
                                          </IndexScan>
                                        </RelOp>
                                        <Predicate>
                                          <ScalarOperator ScalarString="has_access('SM',[master].[sys].[sysmultiobjrefs].[depid],[master].[sys].[sysmultiobjrefs].[indepid])=(1)">
                                            <Compare CompareOp="EQ">
                                              <ScalarOperator>
                                                <Intrinsic FunctionName="has_access">
                                                  <ScalarOperator>
                                                    <Const ConstValue="'SM'" />
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="depid" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Identifier>
                                                      <ColumnReference Database="[master]" Schema="[sys]" Table="[sysmultiobjrefs]" Column="indepid" />
                                                    </Identifier>
                                                  </ScalarOperator>
                                                  <ScalarOperator>
                                                    <Const ConstValue="" />
                                                  </ScalarOperator>
                                                </Intrinsic>
                                              </ScalarOperator>
                                              <ScalarOperator>
                                                <Const ConstValue="(1)" />
                                              </ScalarOperator>
                                            </Compare>
                                          </ScalarOperator>
                                        </Predicate>
                                      </Filter>
                                    </RelOp>
                                  </ComputeScalar>
                                </RelOp>
                              </NestedLoops>
                            </RelOp>
                          </ComputeScalar>
                        </RelOp>
                        <ParameterList>
                          <ColumnReference Column="@login_name" ParameterCompiledValue="N'sa'" />
                        </ParameterList>
                      </QueryPlan>
                    </StmtSimple>
                    <StmtSimple StatementText=" SET @login_found = 1&#xD;&#xA;   " StatementId="50" StatementCompId="77" StatementType="ASSIGN" RetrievedFromCache="true" />
                  </Statements>
                </Then>
              </StmtCond>
            </Statements>
          </Else>
        </StmtCond>
        <StmtCond StatementText=" END&#xD;&#xA;  END&#xD;&#xA;&#xD;&#xA;  IF (@is_sysadmin_member IS NULL)&#xD;&#xA;    -- Return result row&#xD;&#xA;   " StatementId="51" StatementCompId="80" StatementType="COND" RetrievedFromCache="true">
          <Condition />
          <Then>
            <Statements>
              <StmtSimple StatementText=" SELECT has_server_access = @has_server_access,&#xD;&#xA;           is_sysadmin       = @is_sysadmin,&#xD;&#xA;           actual_login_name = @actual_login_name,&#xD;&#xA;           login_found       = @login_found&#xD;&#xA; " StatementId="52" StatementCompId="81" StatementType="SELECT WITHOUT QUERY" RetrievedFromCache="true" />
            </Statements>
          </Then>
          <Else>
            <Statements>
              <StmtSimple StatementText=" ELSE&#xD;&#xA;    -- output variable only&#xD;&#xA;    SELECT @is_sysadmin_member = @is_sysadmin&#xD;" StatementId="53" StatementCompId="84" StatementType="ASSIGN" RetrievedFromCache="true" />
            </Statements>
          </Else>
        </StmtCond>
      </Statements>
    </Batch>
  </BatchSequence>
</ShowPlanXML>