<script id="plan-storage-info-template" type="text/html">
    <div class="storage-info" data-bind="if: $data">

        <!-- ko if: tableVars.count -->
        <div class="db-info">
            <div class="info-item db-item">
                <div class="db-item-text">Table Variables:</div>
            </div>
            <div class="db-content" data-bind="template: { foreach: tableVars.getItems(), name:'plan-storage-table-info-template'}">
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if: tempTables.count -->
        <div class="db-info">
            <div class="info-item db-item">
                <div class="db-item-text">Temporary Tables:</div>
            </div>
            <div class="db-content" data-bind="template: { foreach: tempTables.getItems(), name:'plan-storage-table-info-template'}">
            </div>
        </div>
        <!-- /ko -->

        <!-- ko foreach: serverSet.getItems() -->
        <!-- ko foreach: dbSet.getItems() -->
        <div class="db-info">
            <div class="info-item db-item">
                <div class="db-item-icon" data-bind="template: 'pi_database'"></div>
                <div class="db-item-text" data-bind="text: title"></div>
            </div>
            <div class="db-content" data-bind="foreach: schemaSet.getItems()">
                <div data-bind="template: { name:'plan-storage-table-info-template', foreach: tableSet.getItems() }">
                </div>
            </div>
        </div>
        <!-- /ko -->
        <!-- /ko -->
    </div>
</script>

<script id="plan-storage-table-info-template" type="text/html">
    <div class="info-item" style="border-top: 2px solid #bcdbf3; padding-top:0.3em;">
        <div class="info-icon" data-bind="template: 'pi_table'"></div>
        <div class="info-text bigger" data-bind="text:title"></div>
    </div>
    <div class="info-sub-item" data-bind="template: {name: 'plan-storage-node-info-template', foreach: nodes}">
    </div>
    <div class="info-sub-item" style="margin-bottom:1.5em;">

        <!-- ko if: pk -->
        <div class="info-item">
            <div class="info-icon" title="Clustered" data-bind="template: 'pi_table_pk'"></div>
            <div class="info-text" data-bind="text:pk.name"></div>
        </div>
        <div class="info-sub-item" data-bind="template: {name: 'plan-storage-node-info-template', foreach: pk.nodes}">
        </div>
        <!-- /ko -->

        <div data-bind="foreach: indexSet.getItems()">
            <div class="info-item">
                <div class="info-icon" data-bind="template: 'pi_index'"></div>
                <div class="info-text" data-bind="text:name"></div>
            </div>

            <div class="info-sub-item" data-bind="template: {name: 'plan-storage-node-info-template', foreach: nodes}">
            </div>
        </div>

    </div>
</script>

<script id="plan-storage-node-info-template" type="text/html">
    <div class="info-border" data-bind="visible:visible">
        <div class="info-item">
            <div class="info-icon storage-node" data-bind="clickToSelectNode: {nodeId: 'Node'+nodeId}, attr:{id: 'storage_'+nodeId}, template: iconTemplate">
            </div>
            <div class="info-text storage-node" data-bind="clickToSelectNode: {nodeId: 'Node'+nodeId}">
                <span data-bind="text: formattedCost"> </span>
                <span> - </span>
                <span data-bind="text: title"></span>
            </div>
        </div>

        <div data-bind="template: {name: 'plan-storage-column-info-template', foreach: columns}" style="font-size:0.9em; border-top: 1px solid #bcdbf3;">
        </div>
    </div>
</script>

<script id="plan-storage-column-info-template" type="text/html">
    <div class="info-item">
        <div class="info-text">
            <span>[</span>
            <span data-bind="text: columnName"></span>
            <span>]</span>
        </div>
    </div>
</script>